(this["webpackJsonpwillpost-frontend-app"]=this["webpackJsonpwillpost-frontend-app"]||[]).push([[0],{245:function(e,t,n){},291:function(e,t,n){"use strict";n.r(t);var r=n(338),a=n(1),c=n.n(a),s=n(59),i=n.n(s),o=(n(245),n(350)),l=n(38),j=n(42),u=n(7),d=n(3),b=n(341),O=n(315),h=n(316),x=n(352),f=n(353),m=n(317),p=n(94),g=n(318),v=n(351),y=n(319),w=n(210),S=n(320),C=n(321),_=n(39),k=n(311),E=n(313),R=n(2),I=["my","m"],z=c.a.forwardRef((function(e,t){var n=e.my,r=e.m,a=Object(_.a)(e,I),s=c.a.useState(!1),i=Object(d.a)(s,2),o=i[0],l=i[1];return Object(R.jsxs)(k.a,{size:"md",m:r,my:n,ref:t,children:[Object(R.jsx)(v.a,Object(u.a)({pr:"4.5rem",type:o?"text":"password",placeholder:"Enter password"},a)),Object(R.jsx)(E.a,{width:"4.5rem",children:Object(R.jsx)(w.a,{h:"1.75rem",size:"sm",onClick:function(){return l(!o)},children:o?"Hide":"Show"})})]})})),A=n(40),F=n(48),P=n.n(F),D="Willpost",L="http://saidblanchette.pythonanywhere.com/",T=function(){var e=Object(b.a)(),t=Object(a.useState)(!1),n=Object(d.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],j=i[1],_=Object(a.useState)([]),k=Object(d.a)(_,2),E=k[0],I=k[1],F=Object(A.b)(),D=F.register,T=F.handleSubmit,U=F.setError,W=F.getValues,q=F.formState.errors,V=function(e){var t=function(t){"non_field_errors"!==t?U(t,{type:"focus",message:e[t][0]}):I((function(n){return n.concat(e[t])}))};for(var n in e)t(n)};return o?Object(R.jsx)(O.a,{h:"100%",children:Object(R.jsx)(h.a,{w:"30%",h:"50%",children:Object(R.jsxs)(x.a,{status:"info",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"250px",children:[Object(R.jsx)(x.c,{boxSize:"40px",mr:0}),Object(R.jsx)(x.d,{mt:4,mb:1,fontSize:"lg"}),Object(R.jsxs)(x.b,{maxWidth:"sm",children:["Your account has been successfully created.",Object(R.jsx)("br",{})," check your email to verify your email address"]})]})})}):Object(R.jsx)(O.a,{h:"100%",children:Object(R.jsxs)(f.b,{p:"2",m:"2",children:[Object(R.jsx)(O.a,{height:"100%",w:"100%",children:Object(R.jsx)(m.a,{p:"2",my:"6",as:"h1",size:"4xl",children:"Sign up"})}),Object(R.jsx)("form",{onSubmit:T((function(t){c(!0),P.a.post("".concat(L,"dj-rest-auth/registration/"),t).then((function(e){e.status>=200&&(j(!0),c(!1))})).catch((function(t){if(c(!1),t.response){var n=t.response,r=n.data;n.status<500?(I([]),V(r)):e({title:"An error occured",description:"please try again after few sec",status:"error",duration:5e3,isClosable:!0})}}))})),children:Object(R.jsxs)(f.b,{children:[o&&Object(R.jsxs)(x.a,{status:"success",p:"2",my:"2",children:[Object(R.jsx)(x.c,{}),Object(R.jsxs)(x.b,{p:"2",mr:"2",children:["Your account has been successfully created.",Object(R.jsx)("br",{})," check your email to verify your email address"]})]}),E.length>0&&Object(R.jsxs)(x.a,{status:"error",p:"2",my:"2",children:[Object(R.jsx)(x.c,{}),Object(R.jsx)(x.b,{p:"2",mr:"2",children:E})]}),Object(R.jsxs)(p.a,{id:"first_name",isInvalid:q.first_name,children:[Object(R.jsx)(g.a,{children:"First name"}),Object(R.jsx)(v.a,Object(u.a)({placeholder:"First Name",my:"2"},D("first_name",{required:{value:!0,message:"Please enter your first name"},pattern:{value:/^[A-Z]{4,20}$/i,message:"Enter a valid name"}}))),Object(R.jsx)(y.a,{children:q.first_name&&Object(R.jsx)(R.Fragment,{children:q.first_name.message})})]}),Object(R.jsxs)(p.a,{id:"last_name",isInvalid:q.last_name,children:[Object(R.jsx)(g.a,{children:"Last name"}),Object(R.jsx)(v.a,Object(u.a)({placeholder:"Last Name",my:"2"},D("last_name",{required:{value:!0,message:"Please enter your last name"},pattern:{value:/^[A-Z]{4,20}$/i,message:"Enter a valid name"}}))),Object(R.jsx)(y.a,{children:q.last_name&&Object(R.jsx)(R.Fragment,{children:q.last_name.message})})]}),Object(R.jsxs)(p.a,{id:"email",isInvalid:q.email,children:[Object(R.jsx)(g.a,{children:"Email address"}),Object(R.jsx)(v.a,Object(u.a)({placeholder:"Email",my:"2"},D("email",{required:{value:!0,message:"Please enter your email address"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Enter a valid email address"}}))),Object(R.jsx)(y.a,{children:q.email&&Object(R.jsx)(R.Fragment,{children:q.email.message})})]}),Object(R.jsxs)(p.a,{id:"password",isInvalid:q.password1,children:[Object(R.jsx)(g.a,{children:"Password"}),Object(R.jsx)(z,Object(u.a)(Object(u.a)({placeholder:"Password",my:"2"},D("password1",{required:{value:!0,message:"Password is Required"}})),{},{isInvalid:q.password1})),Object(R.jsx)(p.b,{children:"Use alphabets to make your password stronger"}),Object(R.jsx)(y.a,{children:q.password&&q.password.message})]}),Object(R.jsxs)(p.a,{id:"password2",isInvalid:q.password2,children:[Object(R.jsx)(g.a,{children:"Re-Password"}),Object(R.jsx)(v.a,Object(u.a)({type:"password",placeholder:"Re-type password",my:"2"},D("password2",{required:{value:!0,message:"Please Retype your password"},validate:function(e){return e===W().password1||"it doesn't match the password"}}))),Object(R.jsx)(p.b,{children:"Retype your password ."}),Object(R.jsx)(y.a,{children:q.password2&&q.password2.message})]}),Object(R.jsx)(w.a,{variant:"solid",my:"2",type:"submit",isLoading:r,children:"Sign in"}),Object(R.jsx)(O.a,{children:Object(R.jsxs)(S.a,{my:"2",children:["Already have an account.",Object(R.jsx)(C.a,{color:"blue.500",as:l.b,to:"/login",children:"Login"})]})})]})})]})})},U=n(322),W=n(323),q=n(13),V=n.n(q),N=n(30),Z=n(96),H=n.n(Z),M=n(103),B=function(){var e=function(e){localStorage.setItem("access_token",e)},t=function(e){localStorage.setItem("refresh_token",e)},n=function(){return!(!localStorage.getItem("access_token")||!localStorage.getItem("refresh_token"))},r=function(){var e=null,t=null;if(n())try{e=localStorage.getItem("access_token"),t=localStorage.getItem("refresh_token")}catch(r){throw r}return{access_token:e,refresh_token:t}},a=function(){var e=r().access_token;return!n()||Object(M.a)(e).exp<H()().unix()},c=function(){var e=r().refresh_token;return!n()||Object(M.a)(e).exp<H()().unix()};return{setTokens:function(n){var r=n.access_token,a=n.refresh_token;e(r),t(a)},setAccessToken:e,setRefreshToken:t,getTokens:r,isRefreshTokenExpired:c,isAccessTokenExpired:a,areTokensExpired:function(){return!n()||!(!a()||!c())},removeTokens:function(){window.localStorage.clear()}}},$=P.a.create({baseURL:L,timeout:10995e3,headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});$.interceptors.request.use(function(){var e=Object(N.a)(V.a.mark((function e(t){var n,r,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},r={},localStorage.getItem("access_token")&&localStorage.getItem("refresh_token")&&(n=Object(M.a)(localStorage.getItem("access_token")),r=Object(M.a)(localStorage.getItem("refresh_token"))),!(n.exp<H()().unix()&&r.exp>H()().unix())){e.next=9;break}return e.next=6,P.a.post("".concat(L,"/dj-rest-auth/token/refresh/"),{refresh:localStorage.getItem("refresh_token")},{headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});case 6:a=e.sent,localStorage.setItem("access_token",a.data.access),n=Object(M.a)(a.data.access);case 9:return n.exp>H()().unix()&&(t.headers.Authorization="Bearer "+localStorage.getItem("access_token")),n.exp<H()().unix()&&r.exp<H()().unix()&&(localStorage.clear(),window.location="/login/"),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),$.interceptors.response.use((function(e){return e}),(function(e){if(e.response)if(401===e.response.status){var t=B();t.thereIsTokens&&t.areTokensExpired()&&(window.localStorage.clear(),window.location="/login/")}else 403===e.response.status&&(window.location="/login/");return Promise.reject(e.response)}));var Y=$,J=P.a.create({baseURL:L,timeout:5e3,headers:{"Content-Type":"application/json",accept:"application/json"}}),Q=function(){var e=B();return{logout:function(){},isLogedin:function(){},isValid:function(){return!e.areTokensExpired()},confirmLogin:function(e){var t=e.uid,n=e.token;return Y.post("/auth/confirm/"+t+"/"+n+"/")},reSendVerification:function(){return Y.post("/auth/confirm/send/")}}},X=function(){var e=B();return{setCredentials:function(t){e.setTokens(t);var n=t.user;localStorage.setItem("user",JSON.stringify(n))},register:function(){var e=Object(N.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),login:function(){var e=Object(N.a)(V.a.mark((function e(t){var n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.abrupt("return",J.post("dj-rest-auth/login/",{email:n,password:r}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),resendEmail:function(e){var t=e.email;return J.post("dj-rest-auth/registration/resend-email/",{email:t})},confirmExistence:function(e){var t=e.urlsignature;return J.post("confirmation/exc/",{urlsignature:t})},VoteEligibility:function(e){var t=e.urlsignature;return J.get("vote/".concat(t))},vote:function(e){var t=e.vote_value,n=e.urlsignature;return J.post("vote/",{urlsignature:n,vote_value:t})},post:function(e){var t=e.urlsignature;return J.get("post/".concat(t))}}},G=function(){return{logout:function(){return B().removeTokens(),Y.post("/dj-rest-auth/logout/")},get:function(){return Y.get("/dj-rest-auth/user/")},update:function(e){var t=e.username,n=e.email,r=e.phone,a=e.last_name,c=e.first_name,s=e.number_of_dayes_before_notifying,i=e.vote_type;return Y.patch("/dj-rest-auth/user/",{username:t,email:n,phone:r,last_name:a,first_name:c,number_of_dayes_before_notifying:s,vote_type:i})},changePassword:function(){var e=Object(N.a)(V.a.mark((function e(t){var n,r,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.old_password,r=t.new_password1,a=t.new_password2,e.abrupt("return",Y.post("/dj-rest-auth/password/change/",{old_password:n,new_password1:r,new_password2:a}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},K=function(){var e=function(){var e=Object(N.a)(V.a.mark((function e(t){var n,r,a,c,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.username,n=t.email,r=t.phone,a=t.last_name,c=t.first_name,s=t.is_safe_guard,e.abrupt("return",Y.post("contact/",{email:n,phone:r,last_name:a,first_name:c,is_safe_guard:s}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=Object(N.a)(V.a.mark((function e(t){var n,r,a,c,s,i,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.username,a=t.email,c=t.is_safe_guard,s=t.last_name,i=t.first_name,o="contact/".concat(n),e.abrupt("return",Y.patch(o,{id:n,username:r,email:a,is_safe_guard:c,last_name:s,first_name:i}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(N.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="contact/".concat(t),e.abrupt("return",Y.delete(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(N.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{getList:function(){var e=Object(N.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y.get("contact/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:e,update:t,deleteContact:n,get:r}},ee=function(){var e=function(){var e=Object(N.a)(V.a.mark((function e(t){var n,r,a,c,s,i,o,l,j,u,d=arguments;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u in n=t.file,r=t.media_type,a=void 0===r?"AUDIO":r,c=t.contacts,s=void 0===c?[]:c,i=d.length>1&&void 0!==d[1]?d[1]:null,o=d.length>2&&void 0!==d[2]?d[2]:null,l=new FormData,j="sound.wav","AUDIO"!==a&&(j="Video.webm"),l.append("file",n,j),l.append("media_type",a),s)l.append("recipients",s[u]);return e.abrupt("return",Y.post("media/",l,{onUploadProgress:i,cancelToken:o&&o.source,headers:{"Content-Type":"multipart/form-data"}}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=Object(N.a)(V.a.mark((function e(t){var n,r,a,c,s,i,o,l,j=arguments;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l in n=t.file,r=t.media_type,a=void 0===r?"AUDIO":r,c=t.contacts,s=void 0===c?[]:c,i=j.length>1&&void 0!==j[1]?j[1]:null,o=new FormData,"AUDIO"===a?o.append("file",n,"sound.wav"):o.append("file",n,"video.webm"),o.append("media_type",a),s)o.append("recipients",s[l]);return e.abrupt("return",Y.post("media/",o,{onUploadProgress:i,headers:{"Content-Type":"multipart/form-data"}}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(N.a)(V.a.mark((function e(t,n){var r,a,c,s,i,o,l,j;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.file,a=n.media_type,c=void 0===a?"AUDIO":a,s=n.recipients,i=void 0===s?[]:s,o="media/".concat(t),l=new FormData,r&&"string"!==typeof r&&("AUDIO"===c?l.append("file",r,"sound.wav"):l.append("file",r,"video.webm")),Array.isArray(i)&&i.length>0)for(j in i)l.append("recipients",i[j]);return l.append("media_type",c),e.abrupt("return",Y.patch(o,l,{headers:{"Content-Type":"multipart/form-data"}}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r=function(){var e=Object(N.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="media/".concat(t),e.abrupt("return",Y.delete(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=Object(N.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(N.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y.get("media/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{createAudio:t,uploadViaAjax:function(){var e=Object(N.a)(V.a.mark((function e(t){var n,r,a,c,s,i,o,l,j,u=arguments;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.file,r=t.media_type,a=void 0===r?"AUDIO":r,c=t.recipients,s=void 0===c?[]:c,i=u.length>1&&void 0!==u[1]?u[1]:null,o=new XMLHttpRequest,l=new FormData,n&&"string"!==typeof n&&("AUDIO"===a?l.append("file",n,"sound.wav"):l.append("file",n,"video.webm")),Array.isArray(s)&&s.length>0)for(j in s)l.append("recipients",s[j]);return l.append("media_type",a),o.open("POST","http://localhost:8000/media/",!0),o.onprogress=i,o.setRequestHeader("Authorization","Bearer "+localStorage.getItem("access_token")),e.abrupt("return",o.send(l));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getList:c,create:e,update:n,deleteMedia:r,get:a}},te=c.a.forwardRef((function(e,t){var n=Object(a.useState)(!1),r=Object(d.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!1),o=Object(d.a)(i,2),_=o[0],k=o[1],E=Object(a.useState)(!1),I=Object(d.a)(E,2),F=I[0],P=I[1],D=Object(a.useState)(!1),L=Object(d.a)(D,2),T=L[0],q=L[1],V=Object(a.useState)([]),N=Object(d.a)(V,2),Z=N[0],H=N[1],M=Object(b.a)(),B=X(),$=Object(A.b)(),Y=$.register,J=$.setError,Q=$.getValues,G=$.handleSubmit,K=$.formState.errors,ee=Object(j.f)(),te=function(e){var t=function(t){"non_field_errors"!==t?J(t,{type:"focus",message:e[t][0]}):H((function(n){return n.concat(e[t])}))};for(var n in e)t(n)};return Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(O.a,{h:"100%",w:"full",ref:t,children:F?Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(h.a,{children:[Object(R.jsx)(O.a,{height:"full",w:"full",children:Object(R.jsx)(m.a,{p:"2",my:"10",as:"h1",size:"4xl",children:"Login"})}),Object(R.jsxs)(x.a,{status:"info",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"150px",children:[Object(R.jsx)(x.c,{boxSize:"40px",mr:0}),Object(R.jsx)(U.a,{my:"2"}),Object(R.jsx)(x.b,{maxWidth:"sm",children:"An email has been sent to you. click on the link it contains. to confirm you authentication"})]})]})}):Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(f.b,{children:[Object(R.jsx)(O.a,{height:"full",w:"full",children:Object(R.jsx)(m.a,{p:"2",my:"10",as:"h1",size:"4xl",children:"Login"})}),Object(R.jsx)("form",{children:Object(R.jsxs)(f.b,{children:[Z.length>0&&Object(R.jsxs)(x.a,{status:"error",p:"2",my:"2",children:[Object(R.jsx)(x.c,{}),Object(R.jsxs)(x.b,{p:"2",mr:"2",children:[Z,Object(R.jsx)(U.a,{}),T&&Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(w.a,{size:"sm",variant:"link",onClick:function(){k(!0),B.resendEmail(Q()).then((function(e){P(!0)})).catch((function(e){P(!1),e.response.status>=500&&M({title:"Error",description:"We are unable to fulfill your request right now.  you  can try later.",status:"error",duration:9e3,isClosable:!0})}))},isLoading:_,children:"Send Email verification"})})]})]}),Object(R.jsxs)(p.a,{id:"email",isInvalid:K.email,children:[Object(R.jsx)(g.a,{children:"Email address"}),Object(R.jsx)(v.a,Object(u.a)({placeholder:"Email",my:"2"},Y("email",{required:{value:!0,message:"Please enter your email address"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Enter a valid email address"}}))),Object(R.jsx)(y.a,{children:K.email&&K.email.message})]}),Object(R.jsxs)(p.a,{id:"password",isInvalid:K.password,children:[Object(R.jsx)(g.a,{children:"Password"}),Object(R.jsx)(z,Object(u.a)(Object(u.a)({placeholder:"Password",my:"2"},Y("password",{required:{value:!0,message:"Password is Required"}})),{},{isInvalid:K.password})),Object(R.jsx)(y.a,{children:K.password&&K.password.message})]}),Object(R.jsx)(w.a,{variant:"solid",my:"2",onClick:G((function(e){s(!0),B.login(e).then((function(e){try{s(!1);var t=e.data;B.setCredentials(t),t.user.is_expired&&!0===t.user.is_expired?P(!0):ee.push("/home")}catch(n){}})).catch((function(e){try{s(!1),P(!1);var t=e.response,n=t.data,r=t.status;if(500===r)return M({title:"Error",description:"We are unable to fulfill your request right now. you  can try later.",status:"error",duration:9e3,isClosable:!0}),void H([]);n.non_field_errors&&n.non_field_errors[0].includes("not verified.")&&q(!0),H([]),400===r&&te(n)}catch(e){}}))})),disabled:c,isLoading:c,children:"Log in"}),Object(R.jsx)(O.a,{children:Object(R.jsx)(S.a,{my:"2",children:Object(R.jsx)(C.a,{color:"blue.500",as:l.b,to:"/restore/email/ ",children:"You forgot your password ?"})})}),Object(R.jsxs)(W.a,{justifyContent:"center",justifyItems:"center",children:[Object(R.jsx)(U.a,{}),Object(R.jsx)(U.a,{})]}),Object(R.jsx)(w.a,{variant:"outline",my:"2",onClick:function(){return ee.push("/register")},children:"Register Now"})]})})]})})})})})),ne=n(16),re=n(326),ae=n(345),ce=n(114),se=n(84),ie=n(55),oe=n(296),le=function(e){var t=e.message;return Object(R.jsx)(O.a,{margin:"auto",h:"100%",children:Object(R.jsxs)(O.a,{h:"100%",children:[Object(R.jsx)(m.a,{mx:"4",p:"2",as:"h2",children:t}),Object(R.jsx)(oe.a,{thickness:"4px",size:"xl"})]})})},je=["children"],ue=function(e){var t=e.children,n=Object(_.a)(e,je);return Object(R.jsx)(h.a,Object(u.a)(Object(u.a)({px:[2,4,16,40,60]},n),{},{children:t}))},de=n(324),be=n(325),Oe=n(93),he=n(98),xe=function(){return Object(R.jsx)(h.a,{w:"full",bg:"gray.800",color:"white",py:"2",children:Object(R.jsxs)(ue,{children:[Object(R.jsxs)(W.a,{w:"full",children:[Object(R.jsx)(h.a,{children:Object(R.jsx)(m.a,{as:"h1",size:"2xl",children:"Logo"})}),Object(R.jsx)(de.a,{}),Object(R.jsxs)(be.a,{spacing:[6,6,16],children:[Object(R.jsx)(be.b,{children:Object(R.jsx)(m.a,{as:"h2",children:Object(R.jsx)(ae.a,{label:"Home page","aria-label":"Home page",children:Object(R.jsx)(C.a,{as:l.b,to:"/Home",children:Object(R.jsx)(ce.a,{as:Oe.c})})})})}),Object(R.jsx)(be.b,{children:Object(R.jsx)(m.a,{as:"h2",children:Object(R.jsx)(ae.a,{label:"Contact page","aria-label":"Contact page",children:Object(R.jsx)(C.a,{as:l.b,to:"/contacts",children:Object(R.jsx)(ce.a,{as:ie.b})})})})}),Object(R.jsx)(be.b,{children:Object(R.jsx)(m.a,{as:"h2",children:Object(R.jsx)(ae.a,{label:"Pofile","aria-label":"Your Profile",children:Object(R.jsx)(C.a,{as:l.b,to:"/profile",children:Object(R.jsx)(ce.a,{as:he.c})})})})})]})]}),Object(R.jsx)(de.a,{})]})})},fe=n(328),me=n(329),pe=n(344),ge=n(327),ve=n(333),ye=["audioContext","source","enabled","connect"],we=function(e){var t=e.audioContext,n=e.source,r=e.enabled,c=e.connect,s=(Object(_.a)(e,ye),Object(a.useRef)()),i=Object(a.useRef)(),o=Object(a.useRef)(),l=Object(a.useRef)(),j=Object(a.useRef)(),u=Object(a.useRef)(),d=Object(a.useRef)(),b=Object(a.useRef)(),O=function(){d.current&&d.current.clearRect(0,0,i.current,o.current),window.cancelAnimationFrame(b.current)},x=function e(){b.current=requestAnimationFrame(e),l.current.getByteTimeDomainData(j.current),d.current.fillStyle="#FFF",d.current.fillRect(0,0,i.current,o.current),d.current.lineWidth=2,d.current.strokeStyle="rgb(0, 0, 0)",d.current.beginPath();for(var t=1*i.current/u.current,n=0,r=0;r<u.current;r++){var a=j.current[r]/128*o.current/2;0===r?d.current.moveTo(n,a):d.current.lineTo(n,a),n+=t}d.current.lineTo(s.current.width,s.current.height/2),d.current.stroke()};return Object(a.useEffect)((function(){t&&(l.current=t.current.createAnalyser(),i.current=s.current.width,o.current=s.current.height,d.current=s.current.getContext("2d"))}),[t]),Object(a.useEffect)((function(){n&&r?t&&t.current&&(n.connect(l.current),c&&l.current.connect(c),l.current.fftSize=2048,u.current=l.current.frequencyBinCount,j.current=new Uint8Array(u.current),d.current.clearRect(0,0,i.current,o.current),x()):d.current&&O()}),[n,r]),Object(a.useEffect)((function(){return function(){O(),window.cancelAnimationFrame(b.current)}}),[]),Object(R.jsx)(h.a,{h:"full",children:Object(R.jsx)("canvas",{ref:s,style:{height:"100%",width:"100%"}})})},Se=n(81),Ce=function(e){var t=e.audioSrc,n=e.recordHandler,r=e.onPlay,c=e.onStop,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(a.useRef)(new Audio(t));return Object(a.useEffect)((function(){j.current.pause(),t&&(j.current=new Audio(t),j.current.addEventListener("pause",(function(e){l(!1),c&&c()})))}),[t]),Object(a.useEffect)((function(){return function(){j.current.pause()}}),[]),Object(R.jsx)(h.a,{border:"3px",p:"2",position:"relative",children:Object(R.jsx)(W.a,{justifyContent:"space-around",width:"40%",position:"absolute",right:"30%",bottom:"20%",children:o?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(ae.a,{label:"Click to stop","aria-label":"Click to stop",children:Object(R.jsx)(h.a,{children:Object(R.jsx)(ce.a,{as:Se.d,boxSize:14,onClick:function(){j.current.pause(),l(!1),j.current=new Audio(t),j.current.addEventListener("pause",(function(e){l(!1),c&&c()}))},cursor:"pointer"})})}),Object(R.jsx)(ae.a,{label:"Click to pause","aria-label":"Click to pause",children:Object(R.jsx)(h.a,{children:Object(R.jsx)(ce.a,{as:Se.a,boxSize:14,onClick:function(){j.current.pause(),l(!1),c&&c()},cursor:"pointer"})})}),Object(R.jsx)(ae.a,{label:"Click to replay","aria-label":"Click to replay",children:Object(R.jsx)(h.a,{children:Object(R.jsx)(ce.a,{as:Se.c,boxSize:14,onClick:function(){j.current.pause(),j.current=new Audio(t),j.current.addEventListener("pause",(function(e){l(!1),c&&c()})),j.current.currentTime=0,j.current.play(),l(!0),r&&r(j.current)},cursor:"pointer"})})})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(ae.a,{label:"Click to Play","aria-label":"Click to play",children:Object(R.jsx)(h.a,{children:Object(R.jsx)(ce.a,{as:Se.b,boxSize:14,onClick:function(){j.current.volume=1,j.current.play(),j.current.muted=!1,r&&r(j.current),l(!0)},cursor:"pointer"})})}),Object(R.jsx)(ae.a,{label:"Click to start recording","aria-label":"Click to record",placement:"left",defaultIsOpen:!0,children:Object(R.jsx)(h.a,{children:Object(R.jsx)(ce.a,{as:ie.e,boxSize:16,onClick:n,cursor:"pointer",color:"red.500"})})})]})})})},_e=function(){var e=Object(a.useRef)(0),t=Object(a.useState)("00:00"),n=Object(d.a)(t,2),r=n[0],c=n[1],s=Object(a.useRef)(0),i=function(){s.current+=1e3;var e=o(s.current);c(e)},o=function(e){var t=e/36e5,n=60*(t-Math.floor(t)),r=Math.floor(n),a=60*(n-r),c=Math.floor(a),s=r.toString().padStart(2,"0"),i=c.toString().padStart(2,"0");return"".concat(s,":").concat(i)};return Object(a.useEffect)((function(){return function(){clearInterval(e.current)}}),[]),{timeString:r,start:function(){clearInterval(e.current);var t=setInterval(i,1e3);e.current=t},stop:function(){clearInterval(e.current),s.current=-1e3,c("00:00")},pause:function(){clearInterval(e.current)},resume:function(){clearInterval(e.current);var t=setInterval(i,1e3);e.current=t}}},ke=function(e){var t=e.extAudioSrcUrl,n=void 0===t?null:t,r=e.onChange,c=Object(a.useState)([]),s=Object(d.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)(null),j=Object(d.a)(l,2),u=j[0],b=j[1],O=Object(a.useState)(null),x=Object(d.a)(O,2),f=x[0],m=x[1],p=Object(a.useState)(!1),g=Object(d.a)(p,2),v=g[0],y=g[1],w=Object(a.useState)(!1),C=Object(d.a)(w,2),_=C[0],k=C[1],E=Object(a.useRef)(),I=Object(a.useState)(null),z=Object(d.a)(I,2),A=z[0],F=z[1],P=Object(a.useRef)(),D=_e(),L=D.timeString,T=D.start,U=D.stop,q=Object(a.useRef)(),V=function(){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(N)},N=function(e){var t=E.current.createMediaStreamSource(e);q.current=t,T(),m(t),P.current=new MediaRecorder(e,{mimeType:"audio/webm"}),P.current.addEventListener("dataavailable",(function(e){e.data.size>0&&o((function(t){return[e.data]}))})),P.current.addEventListener("stop",(function(){var e=URL.createObjectURL(new Blob(i),"sound.wav");b(e)})),y(!0),k(!0),P.current.start()},Z=Object(a.useCallback)((function(){P.current&&(P.current.stop(),H(P.current.stream)),y(!1),k(!1),U()}),[i]),H=function(e){e.getTracks().forEach((function(e){return e.stop()}))};Object(a.useEffect)((function(){E.current=new(window.AudioContext||window.webkitAudioContext),F(E)}),[]),Object(a.useEffect)((function(){return n&&b(n),function(){P.current&&(Z(),k(!1)),!n&&u&&URL.revokeObjectURL(u)}}),[n]),Object(a.useEffect)((function(){if(i.length>0){var e=new Blob(i),t=URL.createObjectURL(e);if(b(t),P.current&&"inactive"===P.current.state){var n=new File([e],"sound.wav",{type:"audio/webm"});r&&r(n)}}}),[i]);var M=E.current&&!v?E.current.destination:null;return Object(R.jsx)(h.a,{h:"100%",children:Object(R.jsxs)(h.a,{border:"8px",w:"100%",children:[Object(R.jsx)(we,{source:f,enabled:_,audioContext:A,connect:M}),Object(R.jsx)(h.a,{position:"absolute",top:"28",right:"20",children:Object(R.jsx)(S.a,{fontSize:"lg",fontWeight:"bold",children:L})}),v?Object(R.jsx)(W.a,{justifyContent:"space-around",p:"2",children:Object(R.jsx)(ae.a,{label:"Click to stop recording","aria-label":"Click to stop recording",children:Object(R.jsx)(h.a,{children:Object(R.jsx)(ce.a,{as:Se.d,boxSize:14,onClick:Z,cursor:"pointer"})})})}):Object(R.jsx)(R.Fragment,{children:u?Object(R.jsx)(Ce,{audioSrc:u,recordHandler:V,onPlay:function(e){var t=E.current.createMediaElementSource(e);q.current=t,m(t),k(!0),T()},onStop:function(){k(!1),U()}}):Object(R.jsx)(W.a,{justifyContent:"space-around",p:"2",children:Object(R.jsx)(ae.a,{label:"Click to start recording","aria-label":"Click to start recording",placement:"left",defaultIsOpen:!0,children:Object(R.jsx)(h.a,{children:Object(R.jsx)(ce.a,{as:ie.e,boxSize:16,onClick:V,cursor:"pointer",color:"red.500"})})})})})]})})},Ee=n(47),Re=["variant","children"],Ie=function(e){var t=e.variant,n=e.children,r=Object(_.a)(e,Re),a=Object(Ee.b)("Card",{variant:t});return Object(R.jsx)(h.a,Object(u.a)(Object(u.a)({__css:a},r),{},{children:n}))},ze=n(216),Ae=["extSelectedContacts","recorderContext","onChange","ids"],Fe=function(e){var t=e.extSelectedContacts,n=(e.recorderContext,e.onChange),r=(e.ids,Object(_.a)(e,Ae),Object(a.useState)([])),c=Object(d.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)([]),l=Object(d.a)(o,2),j=l[0],b=l[1],O=K(),x=Object(a.useState)(!1),f=Object(d.a)(x,2),p=f[0],g=f[1],v={container:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{width:"100%"})}};return Object(a.useEffect)((function(){var e=[];g(!0),O.getList().then((function(n){var r=n.data;if(e=r.map((function(e){return{value:e.id,label:e.email}})),b(e),t.length>0){var a=e.filter((function(e){return t.includes(e.value)}));i(a)}g(!1)})).catch((function(e){}))}),[t]),Object(R.jsxs)(h.a,{h:"100%",w:"100%",children:[Object(R.jsx)(m.a,{size:"sm",my:"2",children:"Contacts:"}),Object(R.jsx)(h.a,{display:"flex",flexDirection:"column",w:"100%",children:Object(R.jsx)(ze.a,{isMulti:!0,isLoading:p,cacheOptions:!0,value:s,loadOptions:function(e){return new Promise((function(t){t(function(e){return j.filter((function(t){return t.label.toLowerCase().includes(e.toLowerCase())}))}(e))}))},onChange:function(e){n&&n(e),i(e)},defaultOptions:j,styles:v})})]})};Fe.defaultProps={extSelectedContacts:[]};var Pe=Fe,De=function(e){return Object(R.jsx)(ae.a,{label:"Click to start recording",placement:"left",defaultIsOpen:!0,children:Object(R.jsx)(h.b,{size:"70px",bg:"white",opacity:"0.7",cursor:"pointer",position:"absolute",bottom:"25%",right:"45%",p:"6",border:"2px",borderColor:"black",children:Object(R.jsx)(h.b,Object(u.a)({size:"55px",bg:"tomato",opacity:"1",color:"white"},e))})})},Le=n(112),Te=(n(207),function(e){var t=e.isPaused,n=e.timeString,r=e.onResume,a=e.onPause,c=e.onStop;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(m.a,{position:"absolute",right:"5%",top:"10%",size:"md",color:"white",children:n}),Object(R.jsxs)(h.a,{position:"absolute",bottom:"20%",right:"35%",display:"flex",justifyContent:"space-between",w:"30%",children:[Object(R.jsx)(ae.a,{label:"Click to stop recording",placement:"left",defaultIsOpen:!0,children:Object(R.jsx)(h.b,{size:"60px",bg:"white",opacity:"0.7",cursor:"pointer",p:"6",border:"2px",borderColor:"black",onClick:c,children:Object(R.jsx)(h.c,{size:"35px",bg:"tomato",opacity:"1"})})}),t?Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(ae.a,{label:"Click to resume","aria-label":"Click to resume",children:Object(R.jsx)(h.b,{size:"60px",bg:"white",opacity:"0.7",cursor:"pointer",p:"4",border:"2px",borderColor:"black",onClick:r,children:Object(R.jsx)(ce.a,{ml:"1",as:Se.b,boxSize:10,cursor:"pointer"})})})}):Object(R.jsx)(ae.a,{label:"Click to pause","aria-label":"Click to pause",children:Object(R.jsx)(h.b,{size:"60px",bg:"white",opacity:"0.7",cursor:"pointer",p:"6",border:"2px",borderColor:"black",onClick:a,children:Object(R.jsx)(ce.a,{as:Se.a,boxSize:10,cursor:"pointer"})})})]})]})}),Ue=function(e){var t=e.extVideoSrcUrl,n=e.onChange,r=Object(a.useRef)(null),c=Object(a.useRef)(null),s=Object(a.useRef)(null),i=Object(a.useRef)(null),o=Object(a.useState)(null),l=Object(d.a)(o,2),j=l[0],u=l[1],x=Object(a.useRef)(null),f=Object(a.useState)(!1),m=Object(d.a)(f,2),p=m[0],g=m[1],v=Object(a.useState)(!1),y=Object(d.a)(v,2),S=y[0],C=y[1],_=Object(a.useState)(!1),k=Object(d.a)(_,2),E=k[0],I=k[1],z=Object(a.useState)([]),A=Object(d.a)(z,2),F=A[0],P=A[1],D=Object(a.useState)(!1),L=Object(d.a)(D,2),T=L[0],U=L[1],W=_e(),q=W.timeString,V=W.start,N=W.stop,Z=W.pause,H=W.resume,M=Object(b.a)(),B=function(e){e.getTracks().forEach((function(e){return e.stop()}))},$=function(e){var t=e.data;t.size>0&&P((function(e){return e.concat(t)}))};return Object(a.useEffect)((function(){c.current&&(window.URL?c.current.srcObject=r.current:c.current.src=r.current,c.current.muted=!0)}),[E]),Object(a.useEffect)((function(){return t&&(i.current.autoplay=!1,i.current.src=t,i.current.load(),i.current.controls=!0),function(){r.current&&B(r.current),j&&URL.revokeObjectURL(j)}}),[t]),Object(a.useEffect)((function(){}),[F]),Object(R.jsx)(h.a,{position:"relative",children:t&&!T?Object(R.jsxs)(Le.Player,{ref:i,playsInline:!0,autoPlay:!0,width:"620",height:"100%",children:[Object(R.jsx)("source",{src:t,ref:s}),Object(R.jsx)(Le.ControlBar,{children:Object(R.jsx)(ge.a,{order:7,icon:Object(R.jsx)(ie.f,{}),onClick:function(){return U(!0)},"aria-label":"Start Recording",style:{fontSize:"24px"},fontSize:"40px"})})]}):Object(R.jsxs)(R.Fragment,{children:[E?Object(R.jsx)("video",{ref:function(e){e&&(c.current=e)},width:"620",autoPlay:!0,height:"100%"}):Object(R.jsx)(O.a,{bg:"black",h:"60",minW:"xl",children:Object(R.jsx)(w.a,{variant:"outline",onClick:function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){r.current=e,c.current&&(c.current.srcObject=r.current,c.current.muted=!0),I(!0)})).catch((function(e){B(r.current),M({title:"Not Allowd .",description:"We need pirmisionss.",status:"error",duration:9e3,isClosable:!0})}))},children:"Turn The camera on"})}),p?Object(R.jsx)(Te,{onPause:function(){x.current.pause(),C(!0),Z()},onResume:function(){x.current.resume(),C(!1),H()},isPaused:S,timeString:q,onStop:function(){if(x.current.stop(),F.length){var e=new Blob(F,{type:"video/webm"}),t=URL.createObjectURL(e);c.current.srcObject=null,n&&n(new File([e],"video.webm")),u(t),c.current.src=t,c.current.load(),c.current.controls=!0,c.current.muted=!1,c.current.play()}N(),g(!1)}}):Object(R.jsx)(R.Fragment,{children:r.current&&Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(De,{onClick:function(){g(!0),P([]),x.current=new MediaRecorder(r.current,{mimeType:"video/webm"}),V(),x.current.addEventListener("dataavailable",$),c.current&&(window.URL?c.current.srcObject=r.current:c.current.src=r.current,c.current.controls=!1,c.current.muted=!0),x.current.addEventListener("stop",(function(){})),x.current.start(1e3)}})})})]})})},We=n(113),qe=function(e){var t=e.status,n=void 0===t?"info":t,r=e.title,a=e.message;return Object(R.jsxs)(x.a,{status:n,variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"250px",children:[Object(R.jsx)(x.c,{boxSize:"40px",mr:0}),Object(R.jsx)(x.d,{mt:4,mb:1,fontSize:"lg",children:r}),Object(R.jsx)(x.b,{maxWidth:"sm",children:a})]})},Ve=function(e){var t=e.contactsNames,n=e.isStillFetching;return Object(R.jsx)(h.a,{flex:"1",isTruncated:!0,wordBreak:"break-all",maxWidth:"87%",children:Object(R.jsx)(fe.a,{isLoaded:!n,children:Object(R.jsx)(f.a,{spacing:"0.5",children:t.map((function(e,t){return Object(R.jsx)(me.a,{fontSize:"xs",isTruncated:!0,colorScheme:"none",fontWeight:"bold",children:e.label},t)}))})})})},Ne=function(e){var t=e.mediaType,n=e.file;return"VIDEO"===t?Object(R.jsx)(h.a,{border:"2px",borderColor:"black",margin:"auto",h:"85%",backgroundColor:"black",children:Object(R.jsx)("video",{src:n,style:{height:"100%"}})}):Object(R.jsx)(h.a,{border:"2px",borderColor:"black",margin:"auto",children:Object(R.jsx)(ce.b,{as:Oe.a,boxSize:"90%",margin:"auto"})})},Ze=function(e){var t=e.mediaType,n=e.file,r=e.onRecordHnadler,a=e.recipients,c=e.onSelectHandler;return Object(R.jsxs)(R.Fragment,{children:["AUDIO"===t?Object(R.jsx)(ke,{extAudioSrcUrl:n,onChange:r}):Object(R.jsx)(Ue,{extVideoSrcUrl:n,onChange:r}),Object(R.jsx)(U.a,{my:"2"}),Object(R.jsx)(Pe,{extSelectedContacts:a,onChange:c})]})},He=function(e){var t=e.isUpdatedSuccessfully;return e.loading?Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(O.a,{height:"100%",children:Object(R.jsx)(oe.a,{size:"xl"})})}):Object(R.jsx)(R.Fragment,{children:t?Object(R.jsx)(qe,{status:"success",title:"Will update",message:"The will has been  Updated"}):Object(R.jsx)(qe,{status:"error",title:"Will update",message:"The will has not  been  Updated"})})},Me=function(e){var t=e.onClose,n=e.isOpen,r=e.mediaType,a=e.file,c=e.onRecordHnadler,s=e.recipients,i=e.onSelectHandler,o=e.onSaveHandler,l=e.disbled,j=e.loading,u=e.isUpdated,d=e.isUpdatedSuccessfully,b=void 0===d?null:d;return Object(R.jsxs)(se.a,{onClose:t,isOpen:n,size:"2xl",closeOnOverlayClick:!1,children:[Object(R.jsx)(se.f,{}),Object(R.jsxs)(se.c,{p:"2",children:[Object(R.jsx)(se.e,{children:" "}),Object(R.jsx)(se.b,{h:"full",w:"100%",children:u?Object(R.jsx)(He,{isUpdatedSuccessfully:b,loading:j}):Object(R.jsx)(Ze,{mediaType:r,file:a,onRecordHnadler:c,recipients:s,onSelectHandler:i})}),Object(R.jsxs)(h.a,{display:"flex",flexDirection:"row-reverse",my:"2",children:[Object(R.jsx)(w.a,{mx:"1",onClick:o,disabled:l,isLoading:j,children:"Update"}),Object(R.jsx)(w.a,{mx:"1",variant:"outline",onClick:t,children:"Close"})]})]})]})},Be=function(e){var t=e.mediaType,n=e.file,r=e.onCloseDialog,a=e.contacts,c=e.onOpen,s=e.dialogIsOpen,i=e.cancelRef,o=e.onDeletePostHandler,l=e.onDialogIsOpen,j=e.isStillFetching;return Object(R.jsxs)(Ie,{onClick:c,my:["1","2","2"],mx:["1","1","4"],p:["1","2","4"],variant:"rounded",width:["95%","95%","90%","29%","29%","90"],border:"2px",_hover:{bg:"gray.100",border:"4px"},children:[Object(R.jsx)(Ne,{mediaType:t,file:n}),Object(R.jsxs)(h.a,{display:"flex",mt:"2",justifyContent:"space-between",children:[Object(R.jsx)(h.a,{mx:"1",children:Object(R.jsx)(ce.b,{as:We.d,boxSize:"6"})}),Object(R.jsx)(Ve,{contactsNames:a,isStillFetching:j}),Object(R.jsx)(h.a,{mx:"1",onClick:function(e){return e.stopPropagation()},children:Object(R.jsxs)(pe.a,{onClick:function(e){return e.stopPropagation()},children:[Object(R.jsx)(pe.b,{as:ge.a,"aria-label":"Options",icon:Object(R.jsx)(We.c,{}),variant:"ghost"}),Object(R.jsxs)(pe.d,{children:[Object(R.jsx)(pe.c,{icon:Object(R.jsx)(We.b,{}),onClick:c,children:"Edit.."}),Object(R.jsx)(pe.c,{icon:Object(R.jsx)(We.a,{}),onClick:function(){return l(!0)},children:"Delete"}),Object(R.jsx)(ve.a,{isOpen:s,leastDestructiveRef:i,onClose:r,children:Object(R.jsx)(se.f,{children:Object(R.jsxs)(ve.b,{children:[Object(R.jsx)(se.e,{fontSize:"lg",fontWeight:"bold",children:"Delete will"}),Object(R.jsx)(se.b,{children:"Are you sure? You can't undo this action afterwards."}),Object(R.jsxs)(se.d,{children:[Object(R.jsx)(w.a,{ref:i,onClick:r,children:"Cancel"}),Object(R.jsx)(w.a,{colorScheme:"red.500",onClick:o,ml:3,backgroundColor:"red.600",children:"Delete"})]})]})})})]})]})})]})]})},$e=function(e){var t=e.media_type,n=e.file,r=e.recipients,s=e.id,i=e.onDelete,o=e.index,l=c.a.useRef(),j=Object(re.a)(),b=j.isOpen,O=j.onOpen,h=j.onClose,x=ee(),f=Object(a.useState)(r),m=Object(d.a)(f,2),p=m[0],g=m[1],v=Object(a.useState)(n),y=Object(d.a)(v,2),w=y[0],S=y[1],C=K(),_=Object(a.useState)(!1),k=Object(d.a)(_,2),E=k[0],I=k[1],z=Object(a.useState)(!1),A=Object(d.a)(z,2),F=A[0],P=A[1],D=Object(a.useState)(!1),L=Object(d.a)(D,2),T=L[0],U=L[1],W=Object(a.useState)(null),q=Object(d.a)(W,2),V=q[0],N=q[1],Z=function(){return I(!1)},H=Object(a.useState)(!1),M=Object(d.a)(H,2),B=M[0],$=M[1],Y=c.a.useRef(),J=c.a.useRef(),Q=function(){var e=p.map((function(e){return e.value})),t={id:s,file:w,recipients:e},n={};for(var r in l.current)t[r]&&l.current[r].toString()!==t[r].toString()&&(n[r]=t[r]);return 0===Object.keys(n).length||0===e.length||T}();return Object(a.useEffect)((function(){return l.current={media_type:t,file:n,recipients:r},$(!0),r.length>0&&C.getList().then((function(e){var t=e.data,n=t.map((function(e){return{value:e.id,label:e.first_name+" "+e.last_name}})).filter((function(e){return r.includes(e.value)}));g(n),$(!1)})).catch((function(e){})),function(){clearTimeout(J.current)}}),[]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Be,{mediaType:t,file:n,onCloseDialog:Z,contacts:p,onOpen:O,dialogIsOpen:E,cancelRef:Y,onDeletePostHandler:function(){x.deleteMedia(s).then((function(e){i(o),Z()})).catch((function(e){}))},onDialogIsOpen:I,isStillFetching:B}),Object(R.jsx)(Me,{onClose:h,isOpen:b,mediaType:t,file:n,onRecordHnadler:function(e){S(e)},recipients:r,onSelectHandler:function(e){g(e)},onSaveHandler:function(){var e=p.map((function(e){return e.value})),n={id:s,file:w,recipients:e,media_type:t},r={};for(var a in l.current)n[a]&&l.current[a]!==n[a]&&(r[a]=n[a]);0!==Object.keys(r).length&&(P(!0),U(!0),x.update(s,Object(u.a)(Object(u.a)({},r),{},{media_type:t})).then((function(e){P(!1),N(!0),J.current=setTimeout((function(){h(),U(!1),N(!1)}),2e3)})).catch((function(e){try{P(!1),N(!1)}catch(e){}})))},disbled:Q,loading:F,isUpdated:T,isUpdatedSuccessfully:V})]})};var Ye=["mainComponent","context","children"],Je=function(e){var t=e.mainComponent,n=e.context,r=(e.children,Object(_.a)(e,Ye),Object(a.useState)(!1)),s=Object(d.a)(r,2),i=s[0],o=s[1],j=Object(a.useState)(!1),u=Object(d.a)(j,2),b=u[0],O=u[1],f=Object(a.useState)(!1),m=Object(d.a)(f,2),p=m[0],g=m[1],v=Object(a.useState)(!0),y=Object(d.a)(v,2),k=y[0],E=y[1],I=Object(a.useContext)(st).onClose,z=function(e){var t=Object(a.useRef)(e),n=Object(a.useState)(!1),r=Object(d.a)(n,2)[1];return[t,function(e){Object.is(t.current,e)||(t.current=e,r((function(e){return!e})))}]}(t),A=Object(d.a)(z,2),F=A[0],P=A[1],D=Object(a.useContext)(rt),L=D.selectedContacts,T=D.setSelectedContact,U=D.setMediaType,W=D.setMediaFile,q=D.mediaFile,V=Object(a.useContext)(n),N=V.previous,Z=V.hasProvous,H=V.hasNext,M=V.next,B=function(e){switch(t.type.name){case"ContactSelector":var n=e.map((function(e){return e.value}));T(n),o(!1),0===n.length&&o(!0);break;case"AudioRecorder":W(e),o(!1);break;case"VideoRecorder":o(!1),W(e);break;case"RecorderAssistant":U(e),o(!1);break;case"SaveRecord":O(e)}};return Object(a.useEffect)((function(){var e,n=null;switch(t.type.name){case"ContactSelector":0===L.length&&o(!0),e=c.a.cloneElement(t,{onChange:B,extSelectedContacts:Object(ne.a)(L),ids:L}),P(e),g(!0);break;case"AudioRecorder":null===q?o(!0):(n=URL.createObjectURL(q),o(!1)),P(e=c.a.cloneElement(t,{onChange:B,extAudioSrcUrl:n}));break;case"VideoRecorder":null===q?o(!0):(o(!1),n=URL.createObjectURL(q)),P(e=c.a.cloneElement(t,{onChange:B,extVideoSrcUrl:n}));break;case"RecorderAssistant":null===q&&o(!0),e=c.a.cloneElement(t,{onChange:B});break;case"SaveRecord":e=c.a.cloneElement(t,{onChange:B,handleProvousEnable:function(e){return E(e)}}),o(!0),P(e);break;default:e=c.a.cloneElement(t,{onChange:B}),o(!0),P(e)}}),[t]),Object(R.jsxs)(h.a,{w:"100%",minH:"389px",display:"flex",justifyContent:"space-between",flexDirection:"column",children:[Object(R.jsxs)(h.a,{w:"100%",margin:"auto",children:[p&&Object(R.jsxs)(x.a,{status:"info",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"250px",children:[Object(R.jsx)(x.c,{boxSize:"40px",mr:0}),Object(R.jsx)(x.d,{mt:4,mb:1,fontSize:"lg",children:"Contacts"}),Object(R.jsxs)(x.b,{maxWidth:"sm",children:["Select contacts you want them to receive your Will. or",Object(R.jsxs)(C.a,{as:l.b,to:"/contacts",children:[Object(R.jsx)(S.a,{color:"teal.500",children:"create new Contact"}),"  "]})]})]}),F.current]}),Object(R.jsxs)(h.a,{display:"flex",flexDirection:"row-reverse",my:"2",children:[Object(R.jsx)(w.a,{mx:"1",onClick:function(){H&&M()},disabled:i,children:H?"Next":"Save"}),Z&&k&&Object(R.jsx)(w.a,{variant:"outline",onClick:N,mx:"2",leftIcon:Object(R.jsx)(ie.a,{}),children:"Previous"}),Object(R.jsx)(w.a,{mx:"1",variant:"outline",onClick:I,children:b?"Close":"Cancel"})]})]})},Qe=n(355),Xe=P.a.CancelToken.source(),Ge=function(e){var t=e.handleProvousEnable,n=e.onChange,r=Object(a.useState)(0),c=Object(d.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)(!0),l=Object(d.a)(o,2),j=l[0],u=l[1],b=Object(a.useState)(!1),O=Object(d.a)(b,2),f=O[0],p=O[1],g=ee(),v=Object(a.useContext)(it).addPost,y=Object(a.useContext)(rt),w=y.selectedContacts,S=y.mediaType,C=y.mediaFile;return Object(a.useEffect)((function(){return g.create({file:C,media_type:S,contacts:w},(function(e){var n=e.lengthComputable?e.total:e.target.getResponseHeader("content-length")||e.target.getResponseHeader("x-decompressed-content-length"),r=Math.round(100*e.loaded/n);i(r),100===r&&t(!1)}),Xe).then((function(e){v(e.data),u(!1),p(!0),n&&n(!0)})).catch((function(e){u(!1),p(!1),n&&n(!1),t(!0)})),function(){j&&Xe.cancel()}}),[]),Object(R.jsx)(h.a,{margin:"auto",h:"100%",w:"100%",children:j?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(h.a,{children:Object(R.jsxs)(m.a,{size:"md",my:"2",children:[Object(R.jsx)(oe.a,{size:"sm",mr:"2"}),"Uploading"]})}),Object(R.jsx)(Qe.a,{hasStripe:!0,value:s})]}):Object(R.jsx)(R.Fragment,{children:f?Object(R.jsxs)(x.a,{status:"success",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"250px",children:[Object(R.jsx)(x.c,{boxSize:"40px",mr:0}),Object(R.jsx)(x.d,{mt:4,mb:1,fontSize:"lg",children:"Uploading"}),Object(R.jsx)(x.b,{maxWidth:"sm",children:"The will has been uploaded successfully"})]}):Object(R.jsxs)(x.a,{status:"error",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"250px",children:[Object(R.jsx)(x.c,{boxSize:"40px",mr:0}),Object(R.jsx)(x.d,{mt:4,mb:1,fontSize:"lg",children:"Uploading"}),Object(R.jsx)(x.b,{maxWidth:"sm",children:"The will has not been uploaded"})]})})})},Ke=function(e){var t=e.type,n=e.onChoose,r=e.title,a=e.icon;return Object(R.jsx)(ae.a,{label:" Click to record using ".concat(t," "),children:Object(R.jsxs)(W.a,{boxShadow:"md",rounded:"md",bg:"white",p:"2",cursor:"pointer",m:"2",_hover:{bg:"gray.100",border:"1px"},onClick:function(){return n(t)},children:[Object(R.jsx)(h.a,{flex:"1",p:"2",children:Object(R.jsxs)(m.a,{size:"md",children:[" ",r," "]})}),Object(R.jsx)(de.a,{}),Object(R.jsx)(h.a,{children:Object(R.jsx)(ce.a,{as:a,boxSize:"10"})}),Object(R.jsx)(U.a,{orientation:"vertical",bgColor:"gray.600",border:"2"}),Object(R.jsx)(O.a,{p:"2",children:Object(R.jsx)(ce.a,{as:he.a,boxSize:"6",color:"gray.600"})})]})})},et=function(){var e=Object(a.useContext)(rt).setMediaType,t=Object(a.useContext)(tt),n=t.next,r=t.defaultQueue,c=t.queue,s=function(t){c.splice.apply(c,[0,c.length].concat(Object(ne.a)(r))),"VIDEO"===t?c.push(Object(R.jsx)(Je,{mainComponent:Object(R.jsx)(Ue,{}),context:tt})):"AUDIO"===t&&c.push(Object(R.jsx)(Je,{mainComponent:Object(R.jsx)(ke,{}),context:tt})),c.push(Object(R.jsx)(Je,{mainComponent:Object(R.jsx)(Ge,{}),context:tt})),e(t),n(!0)};return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(h.a,{p:"2",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",children:[Object(R.jsx)(O.a,{p:"4",bg:"gray.100",border:"2px",children:Object(R.jsx)(m.a,{size:"md",children:"Choose a media medium you like to record with"})}),Object(R.jsx)(U.a,{mb:"4"}),Object(R.jsxs)(h.a,{children:[Object(R.jsx)(Ke,{onChoose:s,type:"VIDEO",icon:he.b,title:"Video"}),Object(R.jsx)(Ke,{onChoose:s,type:"AUDIO",icon:Oe.a,title:"Audio"})]}),Object(R.jsx)(U.a,{my:"2"})]})})},tt=Object(a.createContext)();function nt(e,t){return Object(u.a)(Object(u.a)({},e),t)}var rt=Object(a.createContext)(),at=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)("AUDIO"),s=Object(d.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)(null),j=Object(d.a)(l,2),u=j[0],b=j[1],O=function(){return Object(R.jsx)(Je,{context:tt,mainComponent:Object(R.jsx)(Pe,{})})},h=function(){return Object(R.jsx)(Je,{context:tt,mainComponent:Object(R.jsx)(et,{})})},x=[Object(R.jsx)(O,{}),Object(R.jsx)(h,{})],f=Object(a.useRef)(x),m=Object(a.useReducer)(nt,{cursor:0,currentComponent:x[0],queue:x}),p=Object(d.a)(m,2),g=p[0],v=p[1],y=g.cursor>0,w=Object(a.useCallback)((function(){if(y){var e=g.cursor-1;v({cursor:e,currentComponent:f.current[e]})}}),[g]),S=g.cursor+1<f.current.length;return Object(a.useEffect)((function(){}),[]),Object(R.jsx)(rt.Provider,{value:{selectedContacts:n,setSelectedContact:r,setMediaType:o,mediaType:i,setMediaFile:b,mediaFile:u},children:Object(R.jsx)(tt.Provider,{value:{queueDetailsDispatch:v,hasProvous:y,hasNext:S,next:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||S){var t=g.cursor+1;v({cursor:t,currentComponent:f.current[t]})}},previous:w,queue:f.current,cursor:g.cursor,defaultQueue:x},children:g.currentComponent})})},ct=c.a.forwardRef((function(e,t){var n=e.children,r=Q();return null===r?Object(R.jsx)(te,{ref:t}):r.isValid()?Object(R.jsx)(R.Fragment,{children:n}):Object(R.jsx)(te,{ref:t})})),st=Object(a.createContext)(),it=Object(a.createContext)(),ot=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(re.a)(),s=c.isOpen,i=c.onOpen,o=c.onClose,l=ee(),j=Object(a.useState)([]),b=Object(d.a)(j,2),O=b[0],f=b[1];if(Object(a.useEffect)((function(){r(!0),l.getList().then((function(e){r(!1),f(e.data)})).catch((function(e){r(!1)}))}),[]),n)return Object(R.jsxs)(h.a,{h:"100%",children:[Object(R.jsx)(xe,{}),Object(R.jsx)(ue,{height:"100%",children:Object(R.jsx)(le,{m:"auto",message:"Loading"})})]});var m=function(e){var t=Object(ne.a)(O);t.splice(e,1),f(t)};return Object(R.jsx)(ct,{children:Object(R.jsxs)(it.Provider,{value:{addPost:function(e){var t=Object(ne.a)(O);f([e].concat(Object(ne.a)(t)))}},children:[Object(R.jsxs)(h.a,{h:"100%",children:[Object(R.jsx)(xe,{}),Object(R.jsxs)(ue,{minH:"90%",children:[Object(R.jsx)(h.a,{backgroundColor:"#EDEDED",minH:"91vh",children:0===O.length?Object(R.jsxs)(x.a,{status:"info",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"250px",children:[Object(R.jsx)(x.c,{boxSize:"40px",mr:0}),Object(R.jsx)(x.d,{mt:4,mb:1,fontSize:"lg",children:"Create a new Will"}),Object(R.jsx)(x.b,{maxWidth:"md",children:"There is no Will at this moment. create new one"}),Object(R.jsx)(U.a,{}),Object(R.jsx)(w.a,{variant:"solid",size:"lg",my:"2",onClick:i,children:"Create a will"})]}):Object(R.jsx)(W.a,{pt:"10",px:["1","2"],flexWrap:["nowrap","nowrap","wrap"],flexBasis:"1",flexDirection:["column","column","row"],children:O.map((function(e,t){return Object(a.createElement)($e,Object(u.a)(Object(u.a)({},e),{},{key:t,index:t,onDelete:m}))}))})}),Object(R.jsx)(ae.a,{label:"Create new will","aria-label":"Create New Will",children:Object(R.jsx)(h.b,{size:"60px",cursor:"pointer",bg:"black",color:"white",position:"fixed",bottom:"5",right:"5",onClick:i,children:Object(R.jsx)(ce.a,{as:ie.d,boxSize:"8"})})})]})]}),Object(R.jsx)(st.Provider,{value:{onClose:o},children:Object(R.jsxs)(se.a,{onClose:o,isOpen:s,size:"2xl",minH:"6200px",closeOnOverlayClick:!1,children:[Object(R.jsx)(se.f,{}),Object(R.jsxs)(se.c,{p:"2",minH:"500px",children:[Object(R.jsx)(se.e,{children:"New will "}),Object(R.jsx)(se.b,{h:"90%",children:Object(R.jsx)(at,{})})]})]})})]})})},lt=function(){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(xe,{}),Object(R.jsx)(O.a,{h:"90%",children:Object(R.jsx)(m.a,{children:"404 Page Not Found"})})]})},jt=n(335),ut=Object(jt.a)({config:{initialColorMode:"light",useSystemColorMode:!1},colors:{focusBorderColor:"black"},components:{Card:{baseStyle:{background:"white",alignItems:"center",gap:6},variants:{rounded:{padding:8,borderRadius:"xl",boxShadow:"xl"},smooth:{padding:6,borderRadius:"base",boxShadow:"md"}},defaultProps:{variant:"smooth"}},Input:{border:"red",variants:{outline:function(e){return{_focus:{borderColor:"black"}}}},defaultProps:{focusBorderColor:"black",border:"red"}},Button:{baseStyle:{fontWeight:"bold"},variants:{solid:function(e){return{bg:"dark"===e.colorMode?"White":"Black",color:"dark"===e.colorMode?"Black":"White",_hover:{bg:"dark"===e.colorMode?"gray.100":"gray.600"}}},outline:function(e){return{bg:"dark"===e.colorMode?"gray.800":"White",color:"dark"===e.colorMode?"White":"Black",borderColor:"black",_hover:{bg:"dark"===e.colorMode?"gray.600":"gray.50"}}}}}}}),dt=function(){var e=Object(A.b)(),t=e.register,n=e.setError,r=e.handleSubmit,c=e.formState.errors,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],b=Object(a.useState)(!1),h=Object(d.a)(b,2),x=h[0],S=h[1],C=Object(j.g)(),_=C.uid,k=C.token,E=Object(j.f)();return Object(R.jsx)(O.a,{children:x?Object(R.jsx)(le,{message:"Your password have been successfully changed you will be redirect to login page after sec ...  "}):Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(f.b,{children:[Object(R.jsx)(O.a,{height:"full",w:"full",children:Object(R.jsx)(m.a,{p:"2",my:"10",as:"h1",size:"4xl",children:"Restore Account"})}),Object(R.jsx)("form",{onSubmit:r((function(e){l(!0),P.a.post("".concat(L,"dj-rest-auth/password/reset/confirm/"),Object(u.a)(Object(u.a)({},e),{},{uid:_,token:k})).then((function(e){l(!1),200===e.status&&(S(!0),setTimeout((function(){E.push("/login")}),3e3))})).catch((function(e){var t=e.response,r=t.data,a=t.status;if(l(!1),400===a)for(var c in r)n(c,{type:"focus",message:r[c][0]})}))})),children:Object(R.jsxs)(f.b,{children:[Object(R.jsxs)(p.a,{id:"password",isInvalid:c.new_password1,children:[Object(R.jsx)(g.a,{children:"Password"}),Object(R.jsx)(z,Object(u.a)(Object(u.a)({placeholder:"Password",my:"2"},t("new_password1",{required:{value:!0,message:"Password is Required"}})),{},{isInvalid:c.password})),Object(R.jsx)(p.b,{children:"Use alphabets to make your password stronger ."}),Object(R.jsx)(y.a,{children:c.new_password1&&c.new_password1.message})]}),Object(R.jsxs)(p.a,{id:"repassword",isInvalid:c.new_password2,children:[Object(R.jsx)(g.a,{children:"Re-Password"}),Object(R.jsx)(v.a,Object(u.a)({type:"password",placeholder:"Re-type password",my:"2"},t("new_password2",{required:{value:!0,message:"Please Retype your password"}}))),Object(R.jsx)(p.b,{children:"Retype your password ."}),Object(R.jsx)(y.a,{children:c.new_password2&&c.new_password2.message})]}),Object(R.jsx)(w.a,{variant:"solid",my:"2",type:"submit",isLoading:o,children:"Restore"})]})})]})})})},bt=function(){var e=Object(A.b)(),t=e.register,n=e.setError,r=e.handleSubmit,c=e.formState.errors,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1];return Object(R.jsx)(O.a,{children:Object(R.jsxs)(f.b,{children:[Object(R.jsx)(O.a,{height:"full",w:"full",children:Object(R.jsx)(m.a,{p:"2",my:"10",as:"h1",size:"4xl",children:"Restore Account"})}),Object(R.jsx)("form",{onSubmit:r((function(e){P.a.post("".concat(L,"dj-rest-auth/password/reset/"),e).then((function(e){e.status,e.data;l(!0)})).catch((function(e){if(l(!1),e.response){var t=e.response,r=t.data;if(400===t.status)for(var a in r)n(a,{type:"focus",message:r[a][0]})}}))})),children:Object(R.jsxs)(f.b,{children:[o&&Object(R.jsxs)(x.a,{status:"success",p:"2",my:"2",children:[Object(R.jsx)(x.c,{}),Object(R.jsx)(x.b,{p:"2",mr:"2",children:"Password reset e-mail has been sent"})]}),c.non_field_errors&&Object(R.jsxs)(x.a,{status:"error",p:"2",my:"2",children:[Object(R.jsx)(x.c,{}),Object(R.jsx)(x.b,{p:"2",mr:"2",children:c.non_field_errors.message})]}),Object(R.jsxs)(p.a,{id:"email",isInvalid:c.email,my:"2",children:[Object(R.jsx)(g.a,{children:"Email"}),Object(R.jsx)(v.a,Object(u.a)({type:"email"},t("email",{required:{value:!0,message:"Please enter your email address"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Enter a valid email address"}}))),Object(R.jsx)(y.a,{children:c.email&&c.email.message})]}),Object(R.jsx)(w.a,{type:"submit",my:"2",children:"Restore"})]})})]})})},Ot=function(){var e=Object(j.h)().path;return Object(R.jsxs)(j.c,{children:[Object(R.jsx)(j.a,{path:"".concat(e,"/email"),component:bt}),Object(R.jsx)(j.a,{path:"".concat(e,"/newpassword"),component:dt})]})},ht=function(){return Object(R.jsx)(O.a,{h:"full",children:Object(R.jsx)(h.a,{w:"50%",children:Object(R.jsxs)(O.a,{h:"full",children:[Object(R.jsx)(m.a,{m:"2",p:"2",as:"h2",children:"You will be redirected after sec... "}),Object(R.jsx)(oe.a,{thickness:"4px",size:"xl",children:" "})]})})})},xt=n(346),ft=["title","children"],mt=c.a.forwardRef((function(e,t){var n=e.title,r=e.children,a=Object(_.a)(e,ft);return Object(R.jsxs)(xt.d,Object(u.a)(Object(u.a)({},a),{},{shadow:"lg",my:"5",border:"4px",h:"full",children:[Object(R.jsxs)(xt.b,{bg:"gray.800",color:"white",_hover:{bg:"gray.600"},children:[Object(R.jsx)(h.a,{flex:"1",textAlign:"left",children:Object(R.jsx)(m.a,{as:"h3",size:"lg",children:n})}),Object(R.jsx)(xt.c,{})]}),Object(R.jsx)(xt.e,{children:Object(R.jsx)(xt.e,{pb:4,children:r})})]}))})),pt=["title"],gt=function(e){var t=e.title,n=Object(_.a)(e,pt),r=Object(a.useState)(!1),c=Object(d.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)([]),l=Object(d.a)(o,2),j=l[0],m=l[1],S=Object(a.useRef)(),C=G(),k=Object(a.useState)(!1),E=Object(d.a)(k,2),I=E[0],F=E[1],P=Object(b.a)(),D=Object(A.b)(),L=D.setError,T=D.register,U=D.handleSubmit,W=D.getValues,q=D.reset,V=D.formState.errors;return Object(R.jsx)(mt,Object(u.a)(Object(u.a)({title:t},n),{},{ref:S,id:"accitem",children:Object(R.jsxs)(h.a,{w:"full",h:"full",position:"relative",children:[Object(R.jsx)(h.a,{w:"full",h:"full",bg:"white",opacity:"0.7",position:"absolute",p:"10",backgroundColor:"#F7F7F7",zIndex:"5",display:I?"none":"block",children:Object(R.jsx)(O.a,{w:"full",h:"full",children:Object(R.jsx)(w.a,{onClick:function(){return F(!0)},zIndex:"6",children:"Change your password"})})}),Object(R.jsxs)("form",{children:[j.length>0&&Object(R.jsxs)(x.a,{status:"error",p:"2",my:"2",children:[Object(R.jsx)(x.c,{}),Object(R.jsx)(x.b,{p:"2",mr:"2",children:j})]}),Object(R.jsxs)(p.a,{py:"2",isInvalid:V.old_password,children:[Object(R.jsx)(g.a,{children:"Old password "}),Object(R.jsx)(z,Object(u.a)({placeholder:"Old password",my:"2"},T("old_password",{pattern:{value:/^[A-Z0-9._%+-]{8,50}$/i,message:"Enter a valid password. at least 8 charchtrs"},required:{value:!0,message:"Old password is required"}}))),Object(R.jsx)(y.a,{children:V.old_password&&V.old_password.message}),Object(R.jsx)(p.b,{children:"Type your new password"})]}),Object(R.jsxs)(p.a,{py:"2",isInvalid:V.new_password1,children:[Object(R.jsx)(g.a,{children:"New password"}),Object(R.jsx)(z,Object(u.a)({placeholder:"New password",my:"2"},T("new_password1",{required:{value:!0,pattern:{value:/^[A-Z0-9._%+-]{8,50}$/i,message:"Enter a valid password. at least 8 charchtrs"},message:"New password is required"}}))),Object(R.jsx)(y.a,{children:V.new_password1&&V.new_password1.message}),Object(R.jsx)(p.b,{children:"Type your new password"})]}),Object(R.jsxs)(p.a,{py:"2",isInvalid:V.new_password2,children:[Object(R.jsx)(g.a,{children:"Password confirmation"}),Object(R.jsx)(v.a,Object(u.a)({type:"password",placeholder:"Re-type password",my:"2"},T("new_password2",{pattern:{value:/^[A-Z0-9._%+-]{8,50}$/i,message:"Enter a valid password. at least 8 charchtrs"},required:{value:!0,message:"Please Retype your password"},validate:function(e){return e===W().new_password1||"The password confirmation does not match"}}))),Object(R.jsx)(p.b,{children:"Retype your new password"}),Object(R.jsx)(y.a,{children:V.new_password2&&V.new_password2.message})]}),Object(R.jsx)(h.a,{children:Object(R.jsxs)(f.a,{justifyContent:"right",children:[Object(R.jsx)(w.a,{variant:"outline",size:"sm",onClick:U((function(e){C.changePassword(e).then((function(e){P({title:" Password updated",description:"Your password have been successfully updated ",status:"success",duration:8e3,isClosable:!0}),i(!1),q({}),F(!1)})).catch((function(e){i(!1);var t=e.response,n=t.data;400===t.status&&(m([]),function(e){var t=function(t){"non_field_errors"!==t?L(t,{type:"focus",message:e[t][0]}):m((function(n){return n.concat(e[t])}))};for(var n in e)t(n)}(n))}))})),isLoading:s,children:"Change password"}),Object(R.jsx)(w.a,{variant:"solid",size:"sm",type:"reset",onClick:function(){q({}),F(!1)},children:"Cancel"})]})})]})]})}))},vt=["title"],yt=function(e){var t=e.title,n=Object(_.a)(e,vt),r=Object(a.useState)(!1),c=Object(d.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)({}),l=Object(d.a)(o,2),j=l[0],O=l[1],f=Object(a.useState)(!0),m=Object(d.a)(f,2),S=m[0],C=m[1],k=Object(a.useState)([]),E=Object(d.a)(k,2),I=E[0],z=E[1],F=Object(a.useRef)(),P=G(),D=Object(b.a)(),L=Object(A.b)(),T=L.setError,U=L.register,W=L.handleSubmit,q=L.setValue,V=L.reset,N=L.formState.errors,Z=function(e){var t=function(t){"non_field_errors"!==t?T(t,{type:"focus",message:e[t][0]}):z((function(n){return n.concat(e[t])}))};for(var n in e)t(n)};return Object(a.useEffect)((function(){P.get().then((function(e){q("username",e.data.username),q("email",e.data.email),q("last_name",e.data.last_name),q("first_name",e.data.first_name),O(e.data),F.current=e.data})).catch((function(e){}))}),[]),Object(R.jsx)(mt,Object(u.a)(Object(u.a)({title:t},n),{},{children:Object(R.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[I.length>0&&Object(R.jsxs)(x.a,{status:"error",p:"2",my:"2",children:[Object(R.jsx)(x.c,{}),Object(R.jsx)(x.b,{p:"2",mr:"2",children:I})]}),Object(R.jsxs)(p.a,{id:"first_name",isInvalid:N.first_name,isReadOnly:S,children:[Object(R.jsx)(g.a,{children:"First name"}),Object(R.jsx)(v.a,Object(u.a)(Object(u.a)({placeholder:"First Name",my:"2"},U("first_name",{required:{value:!0,message:"Please enter your first name"},pattern:{value:/^[A-Z]{4,20}$/i,message:"Enter a valid name"}})),{},{variant:S?"filled":"outline",_focus:S?{backgroundColor:"gray.100"}:{borderColor:"black"}})),Object(R.jsx)(y.a,{children:N.first_name&&Object(R.jsx)(R.Fragment,{children:N.first_name.message})})]}),Object(R.jsxs)(p.a,{id:"last_name",isInvalid:N.last_name,isReadOnly:S,children:[Object(R.jsx)(g.a,{children:"Last name"}),Object(R.jsx)(v.a,Object(u.a)(Object(u.a)({placeholder:"Last Name",my:"2"},U("last_name",{required:{value:!0,message:"Please enter your last name"},pattern:{value:/^[A-Z]{4,20}$/i,message:"Enter a valid name"}})),{},{variant:S?"filled":"outline",_focus:S?{backgroundColor:"gray.100"}:{borderColor:"black"}})),Object(R.jsx)(y.a,{children:N.last_name&&Object(R.jsx)(R.Fragment,{children:N.last_name.message})})]}),Object(R.jsx)(p.a,{isReadOnly:S,isInvalid:N.username,mt:"2"}),Object(R.jsxs)(p.a,{isReadOnly:S,isInvalid:N.email,mt:"2",children:[Object(R.jsx)(g.a,{children:"Email address"}),Object(R.jsx)(v.a,Object(u.a)(Object(u.a)({},U("email",{required:{value:!0,message:"Name is requierd"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Enter a valid email address"}})),{},{variant:S?"filled":"outline",_focus:S?{backgroundColor:"gray.100"}:{borderColor:"black"}})),Object(R.jsx)(y.a,{children:N.email&&N.email.message})]}),Object(R.jsx)(h.a,{mt:"4",display:"flex",justifyContent:"end",children:S?Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(w.a,{type:"button",variant:"outline",mx:"2",onClick:function(){return C(!1)},children:"Edit"})}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(w.a,{variant:"outline",mx:"2",onClick:W((function(e){var t={};for(var n in e)F.current[n]&&F.current[n]!==e[n]&&(t[n]=e[n]);Object.entries(t).length<1?C(!0):P.update(t).then((function(e){i(!1),O(e.data),D({title:"Profile informations",description:"Profile informations have been successfully updated ",status:"success",duration:5e3,isClosable:!0}),t.email&&D({title:"Email activation",description:"An activation link has been sent to your new e-mail. Active it to be able to continue  ",status:"info",duration:9e3,isClosable:!0}),F.current=Object(u.a)(Object(u.a)({},F.current),e.data),C(!0)})).catch((function(e){i(!1);var t=e.data,n=e.status;z([]),400===n&&Z(t)}))})),isLoading:s,children:"Save"}),Object(R.jsx)(w.a,{mx:"2",onClick:function(){C(!0),V(j)},children:"Cancel"})]})})]})}))},wt=n(342),St=n(217),Ct=["title"],_t={"-1":"No Safegrades is needed to confirm. ",1:"At least one Safegrade is needed to confirm.   ",2:"The majority of Safegrades is needed to confirm. ",3:"All the Safegrades is needed to confirm. "},kt=function(e){var t=e.title,n=Object(_.a)(e,Ct),r=Object(a.useState)(!1),c=Object(d.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)([]),l=Object(d.a)(o,2),j=(l[0],l[1]),O=Object(a.useRef)({vote_type:""}),x=Object(a.useRef)(),f=G(),m=Object(a.useState)(!1),v=Object(d.a)(m,2),C=(v[0],v[1],Object(a.useState)({})),k=Object(d.a)(C,2),E=(k[0],k[1]),I=Object(a.useState)(!0),z=Object(d.a)(I,2),F=z[0],P=z[1],D=Object(b.a)(),L=Object(a.useState)([]),T=Object(d.a)(L,2),U=T[0],W=T[1],q=Object(a.useState)(0),V=Object(d.a)(q,2),N=(V[0],V[1],Object(a.useState)("")),Z=Object(d.a)(N,2),H=Z[0],M=Z[1],B=Object(a.useRef)(),$=Object(A.b)(),Y=$.setError,J=($.register,$.handleSubmit),Q=$.getValues,X=$.reset,K=$.setValue,ee=$.control,te=($.formState.errors,function(e){for(var t=JSON.parse(localStorage.getItem("user")).config.vote_type,n=[],r=0,a=Object.entries(t);r<a.length;r++){var c=Object(d.a)(a[r],2),s=c[0],i={value:s,label:c[1].split("_").join(" ")};e===parseInt(s)&&(K("vote_type",i,{shouldValidate:!0}),O.current.vote_type=i,M(_t[s])),n.push(i)}W(n)}),ne=function(e){var t=function(t){"non_field_errors"!==t?Y(t,{type:"focus",message:e[t][0]}):j((function(n){return n.concat(e[t])}))};for(var n in e)t(n)};Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));B.current=e,K("number_of_dayes_before_notifying",e.number_of_dayes_before_notifying,{shouldValidate:!0}),te(e.vote_type),O.current.number_of_dayes_before_notifying=e.number_of_dayes_before_notifying}),[]);return Object(R.jsx)(mt,Object(u.a)(Object(u.a)({title:t},n),{},{ref:x,id:"accitem",children:Object(R.jsx)(h.a,{w:"100%",h:"100%",position:"relative",children:Object(R.jsxs)("form",{children:[Object(R.jsxs)(p.a,{mb:"2",children:[Object(R.jsx)(g.a,{children:"Number of dayes Before sending a confirmation"}),Object(R.jsx)(A.a,{name:"number_of_dayes_before_notifying",control:ee,rules:{required:!0},render:function(e){var t=e.field;return Object(R.jsxs)(wt.a,Object(u.a)(Object(u.a)({flex:"1",focusThumbOnChange:!1,max:40,isReadOnly:F,isDisabled:F},t),{},{children:[Object(R.jsx)(wt.d,{children:Object(R.jsx)(wt.b,{})}),Object(R.jsx)(wt.c,{fontSize:"sm",boxSize:"32px",children:Q("number_of_dayes_before_notifying")})]}))}}),Object(R.jsx)(p.b,{children:Object(R.jsx)(S.a,{fontSize:"16px",color:"black",children:"the Confirmation is an email that will be sent to check  your exists"})}),Object(R.jsx)(y.a,{})]}),Object(R.jsxs)(p.a,{mb:"2",children:[Object(R.jsx)(g.a,{children:"Vote Type"}),Object(R.jsx)(A.a,{name:"vote_type",control:ee,render:function(e){var t=e.field;return Object(R.jsx)(St.a,Object(u.a)(Object(u.a)({},t),{},{defaultValue:U[0],options:U,isDisabled:F,isReadOnly:F,onChange:function(e){return function(e,t){t.onChange(e),M(_t[e.value])}(e,t)}}))}}),Object(R.jsx)(p.b,{children:Object(R.jsx)(S.a,{fontSize:"16px",color:"black",children:H})}),Object(R.jsx)(y.a,{})]}),Object(R.jsx)(h.a,{mt:"4",display:"flex",justifyContent:"end",children:F?Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(w.a,{type:"button",variant:"outline",mx:"2",onClick:function(){return P(!1)},children:"Edit"})}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(w.a,{variant:"outline",mx:"2",onClick:J((function(e){var t=e.number_of_dayes_before_notifying,n=e.vote_type.value;f.update({number_of_dayes_before_notifying:t,vote_type:n}).then((function(e){i(!1),E(e.data),D({title:"Profile informations",description:"Profile informations have been successfully updated ",status:"success",duration:5e3,isClosable:!0});var t=e.data;O.current=Object(u.a)(Object(u.a)({},O.current),{},{number_of_dayes_before_notifying:t.number_of_dayes_before_notifying,vote_type:t.vote_type}),P(!0),localStorage.setItem("user",JSON.stringify(e.data)),te(e.data.vote_type)})).catch((function(e){i(!1);var t=e.data,n=e.status;j([]),400===n&&ne(t)}))})),isLoading:s,children:"Save"}),Object(R.jsx)(w.a,{mx:"2",onClick:function(){P(!0),X(O.current)},children:"Cancel"})]})})]})})}))},Et=function(){var e=Object(j.f)(),t=G();return Object(R.jsxs)(h.a,{h:"100%",children:[Object(R.jsx)(xe,{}),Object(R.jsx)(ue,{children:Object(R.jsxs)(h.a,{backgroundColor:"#F7F7F7",minH:"91vh",p:"1",children:[Object(R.jsx)(h.a,{display:"flex",justifyContent:"flex-end",children:Object(R.jsx)(w.a,{variant:"outline",onClick:function(){t.logout().then((function(t){e.push("/")})).catch()},my:"1",leftIcon:Object(R.jsx)(ie.c,{}),children:"Logout"})}),Object(R.jsx)(U.a,{}),Object(R.jsx)(h.a,{children:Object(R.jsxs)(xt.a,{allowMultiple:!0,allowToggle:!0,children:[Object(R.jsx)(yt,{title:"Personal Informations"}),Object(R.jsx)(gt,{title:"Changing Password"}),Object(R.jsx)(kt,{title:"Will Settings"})]})})]})})]})},Rt=function(e){var t=e.onReSend,n=e.isSendEmailVerification,r=e.isReSendSuccessfuly;return Object(R.jsx)(R.Fragment,{children:r?Object(R.jsxs)(x.a,{status:"success",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"250px",children:[Object(R.jsx)(x.c,{boxSize:"40px",mr:0}),Object(R.jsx)(x.d,{mt:4,mb:1,fontSize:"lg",children:"Email verification"}),Object(R.jsx)(x.b,{maxWidth:"sm",children:"Activation link had been sent to your email. Click on it to login"})]}):Object(R.jsxs)(x.a,{status:"error",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"250px",children:[Object(R.jsx)(x.c,{boxSize:"40px",mr:0}),Object(R.jsx)(x.d,{mt:4,mb:1,fontSize:"lg",children:"Verification failure"}),Object(R.jsx)(x.b,{maxWidth:"md",children:"Sorry!. We are unable to verify you. try to re-send a new email verification by clicking on the button below. and check your email"}),Object(R.jsx)(U.a,{}),Object(R.jsx)(w.a,{variant:"solid",size:"lg",my:"2",onClick:t,isLoading:n,children:"Re-send"})]})})},It=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(d.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)(null),u=Object(d.a)(l,2),b=u[0],f=u[1],m=Object(a.useState)(!1),p=Object(d.a)(m,2),g=p[0],v=p[1],y=Object(j.g)(),w=y.uid,S=y.token,C=Object(j.f)(),_=Q();Object(a.useEffect)((function(){r(!0),_.confirmLogin({uid:w,token:S}).then((function(e){r(!1),f(!0),setTimeout((function(){return C.push("/home")}),4e3)})).catch((function(e){r(!1),f(!1)}))}),[]);return Object(R.jsx)(O.a,{height:"100%",children:Object(R.jsx)(h.a,{w:"30%",h:"50%",children:n?Object(R.jsx)(le,{}):Object(R.jsx)(R.Fragment,{children:b?Object(R.jsxs)(x.a,{status:"success",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"250px",children:[Object(R.jsx)(x.c,{boxSize:"40px",mr:0}),Object(R.jsx)(x.d,{mt:4,mb:1,fontSize:"lg",children:"Verification success"}),Object(R.jsx)(x.b,{maxWidth:"sm",children:"You will be redirected to the homepage after few seconds"})]}):Object(R.jsx)(Rt,{onReSend:function(){v(!0),_.reSendVerification().then((function(e){v(!1),o(!0)})).catch((function(e){v(!1)}))},isSendEmailVerification:g,isReSendSuccessfuly:i})})})})},zt=n(336),At=n(343),Ft=n(211),Pt=n(356),Dt=n(218),Lt=["index","email","first_name","last_name","phone","id","is_safe_guard","onUpdate","onDelete"],Tt=c.a.forwardRef((function(e,t){var n=e.index,r=e.email,c=e.first_name,s=e.last_name,i=(e.phone,e.id),o=e.is_safe_guard,l=e.onUpdate,j=e.onDelete,O=(Object(_.a)(e,Lt),Object(a.useState)([])),h=Object(d.a)(O,2),f=h[0],m=h[1],S=Object(a.useState)(!1),C=Object(d.a)(S,2),k=C[0],E=C[1],I=Object(a.useState)(!1),z=Object(d.a)(I,2),F=z[0],P=z[1],D=Object(a.useState)(!1),L=Object(d.a)(D,2),T=L[0],U=L[1],W=Object(re.a)(),q=W.isOpen,V=W.onOpen,N=W.onClose,Z=K(),H=Object(b.a)(),M=Object(A.b)(),B=M.register,$=M.handleSubmit,Y=M.watch,J=M.setError,Q=M.reset,X=M.formState,G=M.formState.errors,ee=Y("first_name",c),te=Y("last_name",s),ne=Y("email",r),ce=Y("is_safe_guard",o),ie=function(){return U(!1)},oe=function(e){var t=function(t){"non_field_errors"!==t?J(t,{type:"focus",message:e[t][0]}):m((function(n){return n.concat(e[t])}))};for(var n in e)t(n)};return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(zt.f,{children:[Object(R.jsx)(zt.c,{children:c}),Object(R.jsx)(zt.c,{children:s}),Object(R.jsx)(zt.c,{children:r}),Object(R.jsx)(zt.c,{children:o?"Yes":"No"}),Object(R.jsxs)(zt.c,{children:[Object(R.jsx)(ae.a,{label:" Edite contact ","aria-label":"edite contact",children:Object(R.jsx)(ge.a,{size:"sm",icon:Object(R.jsx)(Dt.a,{}),onClick:V,m:"1"})}),Object(R.jsxs)(At.a,{returnFocusOnClose:!1,isOpen:T,onClose:ie,placement:"right",closeOnBlur:!1,children:[Object(R.jsx)(ae.a,{label:" Edite contact ","aria-label":"edite contact",children:Object(R.jsx)(At.h,{children:Object(R.jsx)(ae.a,{label:" Delete contact ","aria-label":"delete contact",children:Object(R.jsx)(ge.a,{size:"sm",icon:Object(R.jsx)(Oe.b,{}),onClick:function(){return U(!T)},bgColor:"red.600",m:"1"})})})}),Object(R.jsxs)(At.e,{children:[Object(R.jsx)(At.g,{fontWeight:"semibold",children:"Confirmation"}),Object(R.jsx)(At.b,{}),Object(R.jsx)(At.d,{}),Object(R.jsx)(At.c,{children:"Are you sure you want to delete this contact?"}),Object(R.jsx)(At.f,{d:"flex",justifyContent:"flex-end",children:Object(R.jsxs)(Ft.a,{size:"sm",children:[Object(R.jsx)(w.a,{variant:"outline",onClick:ie,children:"Cancel"}),Object(R.jsx)(w.a,{colorScheme:"red",onClick:function(){return P(!0),void Z.deleteContact(i).then((function(e){P(!1),ie(),j(n),H({title:"Deletion",description:"The contact have been deleted successfully ",status:"success",duration:5e3,isClosable:!0})})).catch((function(e){try{ie(),P(!1)}catch(e){H({title:"Delete ",description:"we can't delete the contact right now. please try later",status:"error",duration:5e3,isClosable:!0})}}))},isLoading:F,children:"Delete"})]})})]})]}),Object(R.jsxs)(se.a,{isOpen:q,onClose:function(){X.isValid&&N(),Q({})},size:"2xl",children:[Object(R.jsx)(se.f,{}),Object(R.jsx)("form",{children:Object(R.jsxs)(se.c,{children:[Object(R.jsx)(se.e,{children:"Contact"}),Object(R.jsxs)(se.b,{children:[f.length>0&&Object(R.jsxs)(x.a,{status:"error",p:"2",my:"2",children:[Object(R.jsx)(x.c,{}),Object(R.jsx)(x.b,{p:"2",mr:"2",children:f})]}),Object(R.jsxs)(p.a,{id:"first_name",isInvalid:G.first_name,children:[Object(R.jsx)(g.a,{children:"First name"}),Object(R.jsx)(v.a,Object(u.a)({placeholder:"First Name",my:"2"},B("first_name",{value:ee,required:{value:!0,message:"Please enter your first name"},pattern:{value:/^[A-Z]{4,20}$/i,message:"Enter a valid name"}}))),Object(R.jsx)(y.a,{children:G.first_name&&Object(R.jsx)(R.Fragment,{children:G.first_name.message})})]}),Object(R.jsxs)(p.a,{id:"last_name",isInvalid:G.last_name,children:[Object(R.jsx)(g.a,{children:"Last name"}),Object(R.jsx)(v.a,Object(u.a)({placeholder:"Last Name",my:"2"},B("last_name",{value:te,required:{value:!0,message:"Please enter your last name"},pattern:{value:/^[A-Z]{4,20}$/i,message:"Enter a valid name"}}))),Object(R.jsx)(y.a,{children:G.last_name&&Object(R.jsx)(R.Fragment,{children:G.last_name.message})})]}),Object(R.jsxs)(p.a,{py:"2",isInvalid:G.email,children:[Object(R.jsx)(g.a,{children:"Email"}),Object(R.jsx)(v.a,Object(u.a)({placeholder:"Email"},B("email",{value:ne,required:{value:!0,message:"Enter your email"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Enter a valid email address"}}))),Object(R.jsx)(y.a,{children:G.email&&G.email.message})]}),Object(R.jsxs)(p.a,{py:"2",isInvalid:G.phone,children:[Object(R.jsx)(g.a,{children:"Phone Number"}),Object(R.jsx)(v.a,Object(u.a)({placeholder:"Phone"},B("phone",{pattern:{value:/^[0-9+]{10,13}$/i,message:"Enter a valid phone number"}}))),Object(R.jsx)(y.a,{children:G.phone&&G.phone.message})]}),Object(R.jsxs)(p.a,{display:"flex",alignItems:"center",py:"2",children:[Object(R.jsx)(g.a,{htmlFor:"email-alerts",mb:"0",children:"Is he/she safeguard?"}),Object(R.jsx)(Pt.a,Object(u.a)(Object(u.a)({id:"email-alerts"},B("is_safe_guard",{value:ce})),{},{colorScheme:"blackAlpha",checked:ce}))]})]}),Object(R.jsxs)(se.d,{children:[Object(R.jsx)(w.a,{colorScheme:"blue",mr:3,onClick:function(){Q({}),N()},children:"Close"}),Object(R.jsx)(w.a,{variant:"outline",onClick:$((function(e){E(!0),Z.update(Object(u.a)(Object(u.a)({},e),{},{id:i})).then((function(e){E(!1),l({index:n,data:e.data}),N(),H({title:"Update",description:"The contact have been  successfully updated ",status:"success",duration:5e3,isClosable:!0})})).catch((function(e){E(!1);var t=e.response,n=t.data,r=t.status;m([]),400===r&&oe(n)}))})),disabled:k&&X.isValid,isLoading:k,children:"Update"})]})]})})]})]})]})})})),Ut=function(e){var t=e.onCreate,n=e.isOpen,r=(e.onOpen,e.onClose),c=Object(b.a)(),s=K(),i=Object(a.useState)(!1),o=Object(d.a)(i,2),l=o[0],j=o[1],O=Object(a.useState)([]),h=Object(d.a)(O,2),f=h[0],m=h[1],S=Object(A.b)(),C=S.register,_=S.setError,k=S.handleSubmit,E=S.formState.errors;return Object(R.jsx)(se.a,{onClose:r,isOpen:n,size:"2xl",children:Object(R.jsxs)("form",{children:[Object(R.jsx)(se.f,{}),Object(R.jsxs)(se.c,{children:[Object(R.jsx)(se.e,{children:"Create new contact "}),Object(R.jsxs)(se.b,{h:"full",children:[f.length>0&&Object(R.jsxs)(x.a,{status:"error",p:"2",my:"2",children:[Object(R.jsx)(x.c,{}),Object(R.jsx)(x.b,{p:"2",mr:"2",children:f})]}),Object(R.jsxs)(p.a,{id:"first_name",isInvalid:E.first_name,children:[Object(R.jsx)(g.a,{children:"First name"}),Object(R.jsx)(v.a,Object(u.a)({placeholder:"First Name",my:"2"},C("first_name",{required:{value:!0,message:"Please enter your first name"},pattern:{value:/^[A-Z]{4,20}$/i,message:"Enter a valid name"}}))),Object(R.jsx)(y.a,{children:E.first_name&&Object(R.jsx)(R.Fragment,{children:E.first_name.message})})]}),Object(R.jsxs)(p.a,{id:"last_name",isInvalid:E.last_name,children:[Object(R.jsx)(g.a,{children:"Last name"}),Object(R.jsx)(v.a,Object(u.a)({placeholder:"Last Name",my:"2"},C("last_name",{required:{value:!0,message:"Please enter your last name"},pattern:{value:/^[A-Z]{4,20}$/i,message:"Enter a valid name"}}))),Object(R.jsx)(y.a,{children:E.last_name&&Object(R.jsx)(R.Fragment,{children:E.last_name.message})})]}),Object(R.jsxs)(p.a,{py:"2",isInvalid:E.email,children:[Object(R.jsx)(g.a,{children:"Email"}),Object(R.jsx)(v.a,Object(u.a)({placeholder:"Email"},C("email",{required:{value:!0,message:"Enter your email"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Enter a valid email address"}}))),Object(R.jsx)(y.a,{children:E.email&&E.email.message})]}),Object(R.jsxs)(p.a,{py:"2",isInvalid:E.phone,children:[Object(R.jsx)(g.a,{children:"Phone Number"}),Object(R.jsx)(v.a,Object(u.a)({placeholder:"Phone"},C("phone",{required:!1,pattern:{value:/^[0-9+]{10,13}$/i,message:"Enter a valid phone number"}}))),Object(R.jsx)(y.a,{children:E.phone&&E.phone.message})]}),Object(R.jsxs)(p.a,{display:"flex",alignItems:"center",py:"2",children:[Object(R.jsx)(g.a,{htmlFor:"email-alerts",mb:"0",children:"Is he safeguard?"}),Object(R.jsx)(Pt.a,Object(u.a)({id:"email-alerts",colorScheme:"blackAlpha"},C("is_safe_guard")))]})]}),Object(R.jsxs)(se.d,{children:[Object(R.jsx)(w.a,{onClick:r,mx:"2",variant:"outline",children:"Close"}),Object(R.jsx)(w.a,{onClick:k((function(e){j(!0),s.create(e).then((function(e){j(!1),t(e.data),c({title:"Creation",description:"The contact have been successfully created ",status:"success",duration:5e3,isClosable:!0}),r()})).catch((function(e){j(!1);var t=e.response,n=t.data,r=t.status;m([]),400===r&&function(e){var t=function(t){"non_field_errors"!==t?_(t,{type:"focus",message:e[t][0]}):m((function(n){return n.concat(e[t])}))};for(var n in e)t(n)}(n)}))})),mx:"2",isLoading:l,children:"Save"})]})]}),"*"]})})},Wt=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(d.a)(c,2),i=s[0],o=s[1],l=Object(re.a)(),j=l.isOpen,b=l.onOpen,O=l.onClose,f=K(),m=function(e){var t=e.index,a=e.data,c=Object(ne.a)(n);c[t]=a,r(c)},p=function(e){var t=Object(ne.a)(n);t.splice(e,1),r(t)};return Object(a.useEffect)((function(){o(!0),f.getList().then((function(e){o(!1),r(e.data)})).catch((function(e){o(!1)}))}),[]),i?Object(R.jsxs)(h.a,{h:"100%",children:[Object(R.jsx)(xe,{}),Object(R.jsx)(ue,{h:"100%",children:Object(R.jsx)(le,{mt:"9",message:"Loading"})})]}):Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(h.a,{h:"full",children:[Object(R.jsx)(xe,{}),Object(R.jsx)(ue,{children:0===n.length?Object(R.jsxs)(x.a,{status:"info",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"250px",children:[Object(R.jsx)(x.c,{boxSize:"40px",mr:0}),Object(R.jsx)(x.d,{mt:4,mb:1,fontSize:"lg",children:"Contacts list"}),Object(R.jsx)(x.b,{maxWidth:"md",children:"There is no contact at this moment. create new one"}),Object(R.jsx)(U.a,{}),Object(R.jsx)(w.a,{variant:"solid",size:"lg",my:"2",onClick:b,children:"Create new contact"})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(zt.a,{variant:"striped",colorScheme:"gray",my:"5",children:[Object(R.jsx)(zt.e,{children:Object(R.jsxs)(zt.f,{children:[Object(R.jsx)(zt.d,{children:"First name"}),Object(R.jsx)(zt.d,{children:"last name"}),Object(R.jsx)(zt.d,{children:"Email"}),Object(R.jsx)(zt.d,{children:"Is safeguard"}),Object(R.jsx)(zt.d,{})]})}),Object(R.jsx)(zt.b,{children:n.map((function(e,t){return Object(R.jsx)(Tt,Object(u.a)(Object(u.a)({name:e.username,index:t},e),{},{onUpdate:m,onDelete:p}),t)}))})]}),Object(R.jsx)(h.b,{size:"60px",bg:"black",color:"white",position:"fixed",bottom:"5",right:"5",cursor:"pointer",onClick:b,children:Object(R.jsx)(ce.a,{as:he.d,boxSize:"8"})})]})}),Object(R.jsx)(Ut,{onClose:O,onOpen:b,isOpen:j,onCreate:function(e){var t=[].concat(Object(ne.a)(n),[e]);r(t.reverse())}})]})})},qt=function(){var e=Object(a.useState)(!0),t=Object(d.a)(e,2),n=(t[0],t[1]),r=Object(a.useState)(!1),c=Object(d.a)(r,2),s=c[0],i=c[1],o=Object(j.g)().key,l=Object(j.f)();return Object(a.useEffect)((function(){n(!0),P.a.post("".concat(L,"dj-rest-auth/registration/verify-email/"),{key:o}).then((function(e){n(!1),i(!0),setTimeout((function(){l.push("/login")}),3e3)})).catch((function(e){n(!1);e.response.status}))}),[]),Object(R.jsx)(O.a,{h:"full",children:Object(R.jsx)(h.a,{w:"50%",children:s?Object(R.jsxs)(x.a,{status:"success",children:[Object(R.jsx)(x.c,{}),"Your email have been verified"]}):Object(R.jsxs)(O.a,{h:"full",children:[Object(R.jsx)(m.a,{m:"2",p:"2",as:"h2",children:"Verifying ..."}),Object(R.jsx)(oe.a,{thickness:"4px",size:"xl"})]})})})},Vt=function(){var e=Object(A.b)(),t=e.register,n=e.setError,r=e.handleSubmit,c=e.formState.errors,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1];return Object(R.jsx)(O.a,{children:Object(R.jsxs)(f.b,{children:[Object(R.jsx)(O.a,{height:"full",w:"full",children:Object(R.jsx)(m.a,{p:"2",my:"10",as:"h1",size:"4xl",children:"Send Email verification"})}),Object(R.jsx)("form",{onSubmit:r((function(e){P.a.post("".concat(L,"/dj-rest-auth/registration/resend-email/"),e).then((function(e){e.status,e.data;l(!0)})).catch((function(e){if(l(!1),e.response){var t=e.response,r=t.data;if(400===t.status)for(var a in r)n(a,{type:"focus",message:r[a][0]})}}))})),children:Object(R.jsxs)(f.b,{children:[o&&Object(R.jsxs)(x.a,{status:"success",p:"2",my:"2",children:[Object(R.jsx)(x.c,{}),Object(R.jsx)(x.b,{p:"2",mr:"2",children:"Activation link had been sent to your email"})]}),c.non_field_errors&&Object(R.jsxs)(x.a,{status:"error",p:"2",my:"2",children:[Object(R.jsx)(x.c,{}),Object(R.jsx)(x.b,{p:"2",mr:"2",children:c.non_field_errors.message})]}),Object(R.jsxs)(p.a,{id:"email",isInvalid:c.email,my:"2",children:[Object(R.jsx)(g.a,{children:"Email"}),Object(R.jsx)(v.a,Object(u.a)({type:"email"},t("email",{required:{value:!0,message:"Please enter your email address"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Enter a valid email address"}}))),Object(R.jsx)(y.a,{children:c.email&&c.email.message})]}),Object(R.jsx)(w.a,{type:"submit",my:"2",children:"Restore"})]})})]})})},Nt=n(232),Zt=n(337),Ht=n(300),Mt=function(){var e=Object(Ht.a)({base:"sm",md:"md",lg:"lg",sm:"sm",xs:"xs"}),t=Object(j.f)();return Object(R.jsx)(h.a,{py:"2",children:Object(R.jsxs)(W.a,{children:[Object(R.jsx)(h.a,{children:Object(R.jsx)(m.a,{size:"lg",as:"h1",children:D})}),Object(R.jsx)(de.a,{}),Object(R.jsxs)(h.a,{children:[Object(R.jsx)(w.a,{mr:"4",size:e,onClick:function(){return t.push("/register")},children:"Sign Up"}),Object(R.jsx)(w.a,{variant:"outline",size:e,onClick:function(){return t.push("/login")},children:"Log in"})]})]})})};function Bt(){var e=Object(j.f)();return Object(R.jsxs)(h.a,{h:"100vh",px:["5","10","28"],bgImage:"url('/willpostfrontend/images/background.png')",backgroundSize:"cover",bgPosition:"bottom left",bgRepeat:"no-repeat",bgAttachment:"scroll",children:[Object(R.jsx)(Mt,{}),Object(R.jsxs)(W.a,{h:"90%",flexDirection:["column","row"],children:[Object(R.jsx)(h.a,{w:["100%","50%"],py:["10","2"],children:Object(R.jsx)(W.a,{h:"100%",justifyContent:"space-around",children:Object(R.jsxs)(h.a,{children:[Object(R.jsxs)(m.a,{py:["2","4"],as:"h1",fontSize:["1.3rem","2.6rem","2.8rem","4rem"],children:["Say what matter ",Object(R.jsx)("br",{})," to who matters"]}),Object(R.jsx)(m.a,{fontSize:["1rem","1.5rem"],my:["2","4"],color:"gray.600",children:"Reprehenderit esse labore id veniam ut veniam non ex adipisicing amet ullamco dolor proident."}),Object(R.jsx)(de.a,{}),Object(R.jsx)(w.a,{variant:"solid",m:"1",size:"lg",onClick:function(){return e.push("/register")},children:"Sign up"})]})})}),Object(R.jsx)(h.a,{h:"100%",bgImage:"url('/willpostfrontend/images/backimage.svg')",backgroundSize:"contain",bgPosition:"bottom",bgRepeat:"no-repeat",w:["100%","50%"]})]})]})}var $t=n(357),Yt=[{title:"Secure ",paragraph:"Reprehenderit esse labore id veniam ut veniam non ex adipisicing amet ullamco dolor proident. Exercitation velit ea"},{title:"Sample ",paragraph:"Reprehenderit esse labore id veniam ut veniam non ex adipisicing amet ullamco dolor proident. Exercitation velit ea"},{title:" Support for Video and audio ",paragraph:"Reprehenderit esse labore id veniam ut veniam non ex adipisicing amet ullamco dolor proident. Exercitation velit ea"}];function Jt(){return Object(R.jsxs)(h.a,{px:["3","5","10","28"],mb:"24",children:[Object(R.jsx)(h.a,{my:["20","28"],children:Object(R.jsxs)(f.c,{children:[Object(R.jsx)(m.a,{as:"h1",my:"6",fontSize:["2.4rem","4.5rem"],size:"4xl",children:"It is Never too late"}),Object(R.jsx)(S.a,{w:["100%","100%","50%"],fontWeight:"bold",color:"gray.600",size:"2xl",children:"Reprehenderit esse labore id veniam ut veniam non ex adipisicing amet ullamco dolor proident. Exercitation velit ea incididunt sit qui do ipsum fugiat laboris minim nostrud dolor"})]})}),Object(R.jsx)(h.a,{children:Object(R.jsxs)(W.a,{flexDirection:["column-reverse","column-reverse","row"],children:[Object(R.jsx)(h.a,{w:["100%","100%","50%"],px:["2","3","10"],children:Yt.map((function(e){return t=e.title,n=e.paragraph,Object(R.jsxs)(h.a,{py:"5",boxShadow:"2xl",p:"6",my:"6",rounded:"md",mt:"2",children:[Object(R.jsx)(m.a,{as:"h1",my:"5",fontSize:["2rem","2rem"],children:t}),Object(R.jsx)(S.a,{w:["100%","100%","50%"],fontWeight:"bold",fontSize:["0.9rem"],color:"gray.600",children:n})]},t);var t,n}))}),Object(R.jsx)(h.a,{w:["100%","100%","50%"],h:"full",py:"10",backgroundSize:"contain",bgPosition:"bottom",bgRepeat:"no-repeat",children:Object(R.jsx)($t.a,{src:"/willpostfrontend/images/featuresBg.png",alt:"Segun Adebayo"})})]})})]})}var Qt=function(e){var t=e.children;return Object(R.jsx)(h.a,{px:["5","10","28"],children:t})},Xt=[{number:1,paragraph:"Create a  new massage"},{number:2,paragraph:"The willposter it will keep sending  you an email every 30 days ( by default but you can change it)  In oreder to chack still alive"},{number:3,paragraph:"In case we didn\u2019t  get recipone from you after 30 days we iwill notify your sefe gared ( if you select seafe gardes)"},{number:4,paragraph:"In case your safe gared confirem  that you are not  alive your will will be sent to your selected contact"}],Gt=function(e){var t=e.number,n=e.paragraph;return Object(R.jsxs)(W.a,{boxShadow:"xl",p:"4",rounded:"md",m:"4",flex:"1",flexBasis:["100%","36%"],border:"1px",borderColor:"gray.200",children:[Object(R.jsx)(h.a,{children:Object(R.jsx)(h.b,{border:"8px",borderColor:"Black",p:"4",children:Object(R.jsx)(m.a,{as:"h1",children:t})})}),Object(R.jsxs)(O.a,{p:[2,4],children:[" ",Object(R.jsxs)(S.a,{fontWeight:"bold",children:[" ",n," "]})]})]})};function Kt(){return Object(R.jsx)(h.a,{h:"100vh",children:Object(R.jsxs)(Qt,{children:[Object(R.jsx)(O.a,{children:Object(R.jsx)(m.a,{as:"h1",my:"16",fontSize:["2.3rem","2.5rem","2.5rem","3rem"],children:"How It Works"})}),Object(R.jsx)(W.a,{my:"5",flexWrap:["wrap","wrap","wrap"],children:Xt.map((function(e,t){return Object(R.jsx)(Gt,{number:e.number,paragraph:e.paragraph},t)}))})]})})}function en(){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(h.a,{children:[Object(R.jsx)(Bt,{}),Object(R.jsx)(Jt,{}),Object(R.jsx)(Kt,{})]}),Object(R.jsx)(h.a,{mt:"10",bg:Object(Nt.d)("gray.50","gray.900"),color:Object(Nt.d)("gray.700","gray.200"),children:Object(R.jsx)(Zt.a,{as:f.b,maxW:"6xl",py:4,direction:{base:"column",md:"row"},spacing:4,justify:{base:"center",md:"space-between"},align:{base:"center",md:"center"},children:Object(R.jsxs)(S.a,{children:["\xa9 2021 ",D," Templates. All rights reserved"]})})})]})}var tn=function(e){var t=e.status,n=void 0===t?"success":t,r=e.title,a=e.message;return Object(R.jsxs)(x.a,{status:n,variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"250px",children:[Object(R.jsx)(x.c,{boxSize:"40px",mr:0}),Object(R.jsx)(x.d,{mt:4,mb:1,fontSize:"lg",children:r}),Object(R.jsx)(x.b,{maxWidth:"sm",children:a})]})},nn=function(){var e=Object(a.useState)(!0),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(d.a)(c,2),i=s[0],o=s[1],l=Object(j.g)().urlsignature,u=X();return Object(a.useEffect)((function(){u.confirmExistence({urlsignature:l}).then((function(e){r(!1),o(!0)})).catch((function(e){r(!1),o(!1)}))}),[]),n?Object(R.jsx)(le,{message:"Loading ..."}):Object(R.jsx)(h.a,{h:"100%",children:Object(R.jsx)(O.a,{m:"auto",h:"100%",w:"35%",children:i?Object(R.jsx)(tn,{title:"Confirmed"}):Object(R.jsx)(tn,{title:"Failed",status:"error"})})})},rn=function(e){var t=e.status,n=void 0===t?"success":t,r=e.title,a=e.message;return Object(R.jsxs)(x.a,{status:n,variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"250px",children:[Object(R.jsx)(x.c,{boxSize:"40px",mr:0}),Object(R.jsx)(x.d,{mt:4,mb:1,fontSize:"lg",children:r}),Object(R.jsx)(x.b,{maxWidth:"sm",children:a})]})},an=function(e){var t=e.urlsignature,n=c.a.useState(!1),r=Object(d.a)(n,2),s=r[0],i=r[1],o=function(){return i(!1)},l=X(),j=Object(a.useState)(!1),u=Object(d.a)(j,2),b=u[0],O=u[1],x=Object(a.useState)(!1),f=Object(d.a)(x,2),m=f[0],p=f[1],g=Object(a.useState)(!1),v=Object(d.a)(g,2),y=v[0],S=v[1],C=function(e){O(!0),l.vote({urlsignature:t,vote_value:e}).then((function(e){O(!1),S(!0),p(!0)})).catch((function(e){O(!1),S(!0),p(!1)}))};return b?Object(R.jsx)(le,{message:"Loading ..."}):y?Object(R.jsx)(h.a,{w:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",children:m?Object(R.jsx)(rn,{title:"Vote Successed",message:"Your Vote has been recorded successfully"}):Object(R.jsx)(rn,{title:"Vote Failed",status:"error"})}):Object(R.jsxs)(h.a,{w:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",children:[Object(R.jsx)(rn,{title:"Voting",status:"info"}),Object(R.jsxs)(h.a,{display:"flex",justifyContent:"space-around",my:"5",children:[Object(R.jsx)(w.a,{size:"lg",backgroundColor:"green.600",onClick:function(){return C(2)},children:"Yes"}),Object(R.jsxs)(At.a,{returnFocusOnClose:!1,isOpen:s,onClose:o,placement:"right",closeOnBlur:!1,children:[Object(R.jsx)(At.h,{children:Object(R.jsx)(w.a,{size:"lg",backgroundColor:"red.600",onClick:function(){return i(!s)},children:"No"})}),Object(R.jsxs)(At.e,{children:[Object(R.jsx)(At.g,{fontWeight:"semibold",children:"Confirmation"}),Object(R.jsx)(At.b,{}),Object(R.jsx)(At.d,{}),Object(R.jsx)(At.c,{children:"Are you sure you want vote No?"}),Object(R.jsx)(At.f,{d:"flex",justifyContent:"flex-end",children:Object(R.jsxs)(Ft.a,{size:"sm",children:[Object(R.jsx)(w.a,{variant:"outline",onClick:o,children:"Cancel"}),Object(R.jsx)(w.a,{colorScheme:"red",onClick:function(){return C(1)},children:"Vote No"})]})})]})]})]})]})},cn=function(){var e=Object(a.useState)(!0),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(d.a)(c,2),i=s[0],o=s[1],l=Object(j.g)().urlsignature,u=X();return Object(a.useEffect)((function(){u.VoteEligibility({urlsignature:l}).then((function(e){r(!1),o(!0)})).catch((function(e){r(!1),o(!1)}))}),[]),n?Object(R.jsx)(le,{message:"Loading ..."}):Object(R.jsx)(h.a,{h:"100%",children:Object(R.jsx)(O.a,{m:"auto",h:"100%",w:"35%",children:i?Object(R.jsx)(an,{urlsignature:l}):Object(R.jsx)(rn,{title:"Failed",status:"error"})})})},sn=n(231),on=(n(290),function(e){var t=e.status,n=void 0===t?"success":t,r=e.title,a=e.message;return Object(R.jsxs)(x.a,{status:n,variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"250px",children:[Object(R.jsx)(x.c,{boxSize:"40px",mr:0}),Object(R.jsx)(x.d,{mt:4,mb:1,fontSize:"lg",children:r}),Object(R.jsx)(x.b,{maxWidth:"sm",children:a})]})}),ln=function(e){var t=e.data;if(!t)return Object(R.jsx)(le,{message:"Loading ..."});var n=t.media_type,r=t.file;return Object(R.jsx)(R.Fragment,{children:"AUDIO"===n?Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(sn.a,{style:{backgroundColor:"#191f28"},src:r,customAdditionalControls:[]})}):Object(R.jsx)(Le.Player,{src:r,playsInline:!0,autoPlay:!0,preload:"metadata",fluid:!1})})},jn=function(){var e=Object(a.useState)(!0),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(d.a)(c,2),i=s[0],o=s[1],l=Object(j.g)().urlsignature,u=Object(a.useState)(null),b=Object(d.a)(u,2),x=b[0],f=b[1],m=X();return Object(a.useEffect)((function(){m.post({urlsignature:l}).then((function(e){r(!1),o(!0);var t=e.data;f(t)})).catch((function(e){r(!1),o(!1)})),r(!1),o(!0)}),[]),n?Object(R.jsx)(le,{message:"Loading ..."}):Object(R.jsx)(h.a,{h:"100%",children:Object(R.jsx)(O.a,{m:"auto",h:"80%",w:"70%",padding:"5",children:i?Object(R.jsx)(ln,{data:x}):Object(R.jsx)(on,{title:"Failed",status:"error"})})})};var un=function(){return Object(R.jsx)(l.a,{basename:"/willpostfrontend",children:Object(R.jsx)(o.a,{theme:ut,children:Object(R.jsxs)(j.c,{children:[Object(R.jsx)(j.a,{path:"/register",component:T}),Object(R.jsx)(j.a,{path:"/login",component:te}),Object(R.jsx)(j.a,{path:"/home",component:ot}),Object(R.jsx)(j.a,{path:"/contacts",component:Wt}),Object(R.jsx)(j.a,{path:"/profile",component:Et}),Object(R.jsx)(j.a,{path:"/loading",component:ht}),Object(R.jsx)(j.a,{path:"/verify-email/:key",component:qt}),Object(R.jsx)(j.a,{path:"/resend-email/",component:Vt}),Object(R.jsx)(j.a,{path:"/confirmation/:urlsignature",component:nn}),Object(R.jsx)(j.a,{path:"/post/:urlsignature",component:jn}),Object(R.jsx)(j.a,{path:"/vote/:urlsignature",component:cn}),Object(R.jsx)(j.a,{path:"/password-reset/confirm/:uid/:token/",component:dt}),Object(R.jsx)(j.a,{path:"/auth/confirm/:uid/:token/",component:It}),Object(R.jsx)(j.a,{path:"/restore",component:Ot}),Object(R.jsx)(j.a,{path:"/",exact:!0,component:en}),Object(R.jsx)(j.a,{component:lt})]})})})},dn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,358)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(R.jsxs)(a.StrictMode,{children:[Object(R.jsx)(r.a,{}),Object(R.jsx)(un,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),dn()}},[[291,1,2]]]);
//# sourceMappingURL=main.9d3c2530.chunk.js.map